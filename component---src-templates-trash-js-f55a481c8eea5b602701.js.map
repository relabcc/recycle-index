{"version":3,"sources":["webpack:///./node_modules/lodash/_shuffleSelf.js","webpack:///./src/utils/useReloadOnOrentation.js","webpack:///./node_modules/lodash/_baseValues.js","webpack:///./node_modules/lodash/values.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/sampleSize.js","webpack:///./src/containers/TrashPage/trash-bag.svg","webpack:///./src/containers/TrashPage/ScrollIndicator/bin.svg","webpack:///./node_modules/lodash/_baseSampleSize.js","webpack:///./src/containers/TrashPage/ScrollIndicator/trash.svg","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./src/containers/TrashPage/ScrollIndicator/index.js","webpack:///./src/containers/TrashPage/index.js","webpack:///./src/templates/trash.js","webpack:///./node_modules/fullpage.js/vendors/scrolloverflow.js","webpack:///./node_modules/lodash/_arraySampleSize.js"],"names":["baseRandom","module","exports","array","size","index","length","lastIndex","undefined","rand","value","useReloadOnOrentation","prevOri","useRef","useEffect","window","addEventListener","event","current","target","screen","orientation","angle","setTimeout","location","reload","arrayMap","object","props","key","baseValues","keys","source","Array","arraySampleSize","baseSampleSize","isArray","isIterateeCall","toInteger","collection","n","guard","baseClamp","shuffleSelf","values","number","lower","upper","fpApi","RightDash","Box","ScrollIndicator","progress","isMobile","onClick","Flex","direction","height","mt","flex","Relative","Absolute","top","left","transform","position","bottom","width","right","style","Image","src","trash","bin","require","theTimeline","endTimeline","progressTimer","TrashName","children","responsive","color","Text","fontSize","fontWeight","letterSpacing","SectionTitle","TrashDescription","lineHeight","textAlign","TrashValue","TrashNote","lined","useMemo","replace","whiteSpace","TrashNumber","Number","colorsCfg","A","B","C","gradeData","cfgPoses","withData","data","trashData","allData","siteMetadata","site","useState","scrollProgress","setProgress","windowSize","useWindowSize","useResponsive","containerWidth","useContext","containerWidthContext","faceRef","trashRef","trashXRef","layerRefs","imgs","map","createRef","animaRefs","partsRefs","colorScheme","recycleValue","trashWidth","isIos","scale","mobileScale","Math","min","xRange","explosionGap","gap","faceId","faceNo","readeMore","filter","d","img","id","endTransition","mobileX","mobileY","x","y","endPos","useShowHeader","useLoader","pageUrl","url","String","padStart","parts","i","pos","linePos","centeroid","partName","side","theSide","imgSize","FullAbs","ref","BackgroundImage","ratio","bg","className","pointerEvents","Circle","opacity","partsDetail","border","borderColor","belongsTo","recycleRate","RateCircle","pages","Container","textStroke","textStrokeColor","AbsCenter","as","floor","name","ml","description","ChevDown","moveSectionDown","Hashtag","partsNote","recycleNote","px","mx","pt","shareBgMobile","shareBg","overflow","share","justifyContent","mr","FB","rounded","href","Line","pb","flexDirection","pr","Handling","steps","handling","alternative","pl","borderTop","borderLeft","alignItems","my","planb","planbBubble","py","zIndex","p","PerTrash","Footer","theme","headerHeight","rotate","mobileRotate","join","shareScale","mobileShareScale","Face","face","pageCount","pagesRefs","kill","defaultTrashCfg","gsap","set","rateEles","timeline","onUpdate","forEach","ele","e","Event","max","time","dispatchEvent","newHeight","totalHeight","partsCount","getHeightConfig","explodeWidthFactor","explosionScale","animation","animations","to","duration","mobileExplosionY","posByPartName","posByOrder","yStart","cfg","positions","order","yPos","getPoses","poses","combineParts","layerName","Object","entries","ani","querySelector","test","attachName","substring","offset","scrollingDuration","offsetSign","reduce","s","o","sign","totalOffset","Boolean","nextPart","slice","find","rateEle","push","pause","bgColor","Helmet","content","sectionsColor","licenseKey","process","REACT_APP_FULLPAGE_JS_KEY","scrollingSpeed","verticalCentered","onLeave","origin","destination","tweenTo","stop","incre","timer","elapsed","scrollOverflow","normalScrollElements","afterRender","document","body","afterResize","render","fullpageApi","Wrapper","page","Fixed","display","mobileFirstY","firstY","moveTo","Page","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","utils","me","_elementStyle","createElement","_vendor","vendors","l","substr","_prefixStyle","charAt","toUpperCase","getTime","Date","now","extend","obj","addEvent","el","type","fn","capture","removeEvent","removeEventListener","prefixPointerEvent","pointerEvent","MSPointerEvent","momentum","start","lowerMargin","wrapperSize","deceleration","distance","speed","abs","round","_transform","hasTransform","hasPerspective","hasTouch","hasPointer","PointerEvent","hasTransition","isBadAndroid","appVersion","navigator","safariVersion","match","parseFloat","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","hasClass","c","RegExp","addClass","newclass","split","removeClass","re","offsetLeft","offsetTop","offsetParent","preventDefaultException","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","ease","quadratic","k","circular","sqrt","back","bounce","elastic","pow","sin","f","PI","tap","eventName","ev","createEvent","initEvent","pageX","pageY","click","tagName","MouseEvent","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","_constructed","IScroll","options","this","wrapper","scroller","scrollerStyle","resizeScrollbars","mouseWheelSpeed","snapThreshold","disablePointer","disableTouch","disableMouse","startX","startY","scrollY","directionLockThreshold","bounceTime","bounceEasing","preventDefault","HWCompositing","useTransition","useTransform","bindToWrapper","onmousedown","translateZ","eventPassthrough","scrollX","freeScroll","resizePolling","shrinkScrollbars","invertWheelDirection","directionX","directionY","_events","_init","refresh","scrollTo","enable","createDefaultScrollbar","interactive","scrollbar","indicator","cssText","appendChild","Indicator","wrapperStyle","indicatorStyle","listenX","listenY","resize","defaultScrollbars","shrink","fade","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","durationProp","self","prototype","version","_initEvents","scrollbars","indicators","_initIndicators","mouseWheel","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","clearTimeout","resizeTimeout","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","which","enabled","initiated","point","touches","moved","distX","distY","directionLocked","startTime","getComputedPosition","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","newX","newY","absDistX","absDistY","deltaX","deltaY","timestamp","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","changedTouches","momentumX","momentumY","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","_nearestSnap","currentPage","snapSpeed","_resize","that","disable","offsetHeight","clientWidth","clientHeight","scrollerWidth","offsetWidth","scrollerHeight","wrapperOffset","on","off","indexOf","splice","apply","call","arguments","scrollBy","transitionType","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","transitionTime","updatePosition","remove","matrix","getComputedStyle","interactiveScrollbars","customStyle","fadeScrollbars","concat","_indicatorsMap","wheelTimeout","_wheel","userAgent","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","goToPage","querySelectorAll","cx","cy","m","stepX","snapStepX","stepY","snapStepY","snapThresholdX","snapThresholdY","posX","posY","next","prev","pageUp","pageDown","end","home","up","down","charCodeAt","_key","prevTime","keyTime","keyAcceleration","keyCode","destX","destY","easingFn","destTime","step","handleEvent","stopPropagation","fadeTimeout","parentNode","removeChild","lastPointX","lastPointY","_pos","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","delay","bind","fp_scrolloverflow","scrollBarHandler","createScrollBarForAll","fp_utils","forEachSectionAndSlide","removeScrollBar","createScrollBar","element","css","contentHeight","scrollOverflowHandler","wrap","wrapContent","section","closest","scrollable","paddings","parseInt","getPaddings","scrollHeight","$","getWindowHeight","scrollHeightWidthoutPaddings","update","wrapInner","create","iscrollOptions","slides","slide","init","readyState","fullpage_api","shared","afterRenderActions","wheelOn","wheelOff","g_fullpageOptions","iscrollHandler","refreshId","iScrollInstances","lastScrollY","hasBeenInit","hideScrollbars","isTouch","msMaxTouchPoints","maxTouchPoints","deepExtend","scrollOverflowOptions","toggleWheel","SECTION_SEL","item","iScrollInstance","fp_iscrollInstance","setIscroll","action","beforeLeave","afterLoad","instance","isScrolled","getScrollTop","isDoubleChecking","activeSection","SLIDE_SEL","unwrap","silentMoveTo","copyArray"],"mappings":"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","file":"component---src-templates-trash-js-f55a481c8eea5b602701.js","sourcesContent":["var baseRandom = require('./_baseRandom');\n\n/**\n * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n *\n * @private\n * @param {Array} array The array to shuffle.\n * @param {number} [size=array.length] The size of `array`.\n * @returns {Array} Returns `array`.\n */\nfunction shuffleSelf(array, size) {\n  var index = -1,\n      length = array.length,\n      lastIndex = length - 1;\n\n  size = size === undefined ? length : size;\n  while (++index < size) {\n    var rand = baseRandom(index, lastIndex),\n        value = array[rand];\n\n    array[rand] = array[index];\n    array[index] = value;\n  }\n  array.length = size;\n  return array;\n}\n\nmodule.exports = shuffleSelf;\n","import { useEffect, useRef } from 'react'\n\nconst useReloadOnOrentation = () => {\n  const prevOri = useRef()\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.addEventListener(\"orientationchange\", (event) => {\n        if (typeof prevOri.current === 'number') {\n          if (prevOri.current !== event.target.screen.orientation.angle) {\n            setTimeout(() => window.location.reload())\n          }\n        }\n        prevOri.current = event.target.screen.orientation.angle\n      });\n    }\n  }, [])\n}\n\nexport default useReloadOnOrentation\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var arraySampleSize = require('./_arraySampleSize'),\n    baseSampleSize = require('./_baseSampleSize'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/**\n * Gets `n` random elements at unique keys from `collection` up to the\n * size of `collection`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @param {number} [n=1] The number of elements to sample.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the random elements.\n * @example\n *\n * _.sampleSize([1, 2, 3], 2);\n * // => [3, 1]\n *\n * _.sampleSize([1, 2, 3], 4);\n * // => [2, 3, 1]\n */\nfunction sampleSize(collection, n, guard) {\n  if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n    n = 1;\n  } else {\n    n = toInteger(n);\n  }\n  var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n  return func(collection, n);\n}\n\nmodule.exports = sampleSize;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0Ij4NCiAgPGcgaWQ9IuWcluWxpF82IiBkYXRhLW5hbWU9IuWcluWxpCA2Ij4NCiAgICA8Zz4NCiAgICAgIDxnPg0KICAgICAgICA8cGF0aCBkPSJNMzMuMTIsMTYuNDljLTEuMiwwLTMuMDctLjY2LTUuNTQtMS45NGwtLjkxLS40OUEyMy44MiwyMy44MiwwLDAsMSwxNy4zMSw1LjhjLS40LS42NS0uNzMtMS4yMi0uNjMtMS42Ni4wNS0uMi4yLS44Mi40MS0uODlsLjE5LDBhMy40OCwzLjQ4LDAsMCwxLC43Mi4xMkMyNC43LDUsMzAuNDgsOC44MywzMy40OCwxMy43MWE0LjEyLDQuMTIsMCwwLDEsLjcyLDEuODRjMCwuMzgtLjA2LjYzLS4yLjczQTEuNTcsMS41NywwLDAsMSwzMy4xMiwxNi40OVoiIGZpbGw9IiM2M2FkNzUiLz4NCiAgICAgICAgPHBhdGggZD0iTTE3LjgsMy45MmgwbS0uMTIuMzguMDksMGM2LjQ0LDEuNTUsMTIsNS4yNSwxNC44NSw5LjkxYTQsNCwwLDAsMSwuNTcsMS4yNmgtLjA3Yy0uNzIsMC0yLjE4LS4zMi01LjA4LTEuODNsLS43OC0uNDItLjEyLS4wNmEyMi45MSwyMi45MSwwLDAsMS05LTcuOTEsNC4yMiw0LjIyLDAsMCwxLS40OS0uOTR2MG0tLjQtMi4wN2ExLjUxLDEuNTEsMCwwLDAtLjQ4LjA3Yy0uNzMuMjItMSwxLjA3LTEuMDksMS42MWEzLjM0LDMuMzQsMCwwLDAsLjc1LDIuNDIsMjUuMTIsMjUuMTIsMCwwLDAsOS43NCw4LjYxYy4yNC4xNC41NS4zLjkxLjQ5LDEuNjEuODQsNC4xNywyLjA2LDYsMi4wNmEyLjQ3LDIuNDcsMCwwLDAsMS40Ny0uNCwxLjgyLDEuODIsMCwwLDAsLjYxLTEuNTYsNC44Myw0LjgzLDAsMCwwLS44Ny0yLjM0QzMxLjIxLDguMSwyNS4xNyw0LDE4LjIzLDIuMzdhNC40NSw0LjQ1LDAsMCwwLS45NS0uMTRaIi8+DQogICAgICA8L2c+DQogICAgICA8Zz4NCiAgICAgICAgPHBhdGggZD0iTTMxLjYyLDE4YTEuMjgsMS4yOCwwLDAsMS0uODMtLjI0LDEuNiwxLjYsMCwwLDEtLjQyLTEuMSw0Ljc3LDQuNzcsMCwwLDEsLjQ2LTIuMjJBMjAuNzIsMjAuNzIsMCwwLDEsNDQuMTksMi40OWEyLjI5LDIuMjksMCwwLDEsLjYyLS4xM2guMTNjLjEzLDAsLjM1LjI5LjY0LDEuMjFhMy4yMywzLjIzLDAsMCwxLS4zNiwyLjEsMjEuMjMsMjEuMjMsMCwwLDEtNy44Myw5LjUxbC0uODEuNTZjLTIuMTgsMS40OC0zLjg1LDIuMjMtNSwyLjIzWiIgZmlsbD0iIzYzYWQ3NSIvPg0KICAgICAgICA8cGF0aCBkPSJNNDQuODIsMy4zNmgwbS0uMzUuMDhjLjA1LjEyLjEuMjcuMTYuNDVhMi44NywyLjg3LDAsMCwxLS4zNCwxLjQyLDIwLjI1LDIwLjI1LDAsMCwxLTcuNDgsOS4wNmwtLjEzLjA5LS42Ni40NkMzMy4zOSwxNi43MSwzMi4xMywxNywzMS42MiwxN2wtLjE3LDBhMS44OSwxLjg5LDAsMCwxLS4wOC0uNDIsNCw0LDAsMCwxLC4zOS0xLjc1QTE5Ljc4LDE5Ljc4LDAsMCwxLDQ0LjQ3LDMuNDRtLjM0LTIuMDhhMy4xMiwzLjEyLDAsMCwwLS45MS4xNywyMS44NCwyMS44NCwwLDAsMC0xNCwxMi41Myw1Ljg0LDUuODQsMCwwLDAtLjUxLDIuNjksMi41NSwyLjU1LDAsMCwwLC43OSwxLjc4LDIuMjgsMi4yOCwwLDAsMCwxLjQ1LjQ1YzEuNzgsMCw0LjA4LTEuNDMsNS41Mi0yLjQxTDM4LDE2YTIyLjMsMjIuMywwLDAsMCw4LjE5LTEwLDQuMDgsNC4wOCwwLDAsMCwuMzgtMi43OGMtLjItLjYyLS41My0xLjU5LTEuMjctMS44NGExLjM3LDEuMzcsMCwwLDAtLjQ1LS4wN1oiLz4NCiAgICAgIDwvZz4NCiAgICAgIDxnPg0KICAgICAgICA8cGF0aCBkPSJNMjguNzEsNjEuNjRhNDAuMjcsNDAuMjcsMCwwLDEtOC0uNzhDMTYuNiw2MCwxMSw1OCw3LjkyLDUyLjkyQTIxLjU0LDIxLjU0LDAsMCwxLDUuNSwzNC4xOWEyOS40MywyOS40MywwLDAsMSwxNi4xOS0xNywyOC45MiwyOC45MiwwLDAsMSwxMC4yNC0xLjgsMjguNjksMjguNjksMCwwLDEsMTkuODksNy41MWM4LjE1LDcuNjgsMTAuNDMsMjIsNC42OCwyOS40LTMuMzcsNC4zNS04LjgxLDYuMTctMTMuNyw3LjM5QTU4LjM5LDU4LjM5LDAsMCwxLDI4LjcxLDYxLjY0WiIgZmlsbD0iIzYzYWQ3NSIvPg0KICAgICAgICA8cGF0aCBkPSJNMzEuOTMsMTYuNDNoMGEyOC4xNywyOC4xNywwLDAsMSwxOS4yMSw3LjIzYzcuNjcsNy4yNCw5LjkzLDIxLjE0LDQuNTcsMjguMDctMy4xOCw0LjEtOC40Myw1Ljg1LTEzLjE1LDdhNTcuNDEsNTcuNDEsMCwwLDEtMTMuODUsMS44OCwzOSwzOSwwLDAsMS03LjgtLjc2Yy0zLjkyLS44LTkuMi0yLjc0LTEyLjE0LTcuNDlDNS4xOCw0Ni42LDQuNCw0MC41OCw2LjQ1LDM0LjUxYTI4LjM4LDI4LjM4LDAsMCwxLDE1LjYtMTYuMzUsMjguMDksMjguMDksMCwwLDEsOS44OC0xLjczbTAtMmEyOS44LDI5LjgsMCwwLDAtMTAuNiwxLjg3QzEwLjM4LDIwLjQ4LTMuMzgsMzYuNTcsNy4wNyw1My40NWMzLjA4LDUsOC40OSw3LjM4LDEzLjQ0LDguMzlhNDEuMTIsNDEuMTIsMCwwLDAsOC4yLjhBNTkuODYsNTkuODYsMCwwLDAsNDMsNjAuN2M1LjM4LTEuMzQsMTAuNzktMy4yOCwxNC4yNS03Ljc1LDYtNy43NywzLjY4LTIyLjc2LTQuNzgtMzAuNzRhMzAsMzAsMCwwLDAtMjAuNTgtNy43OFoiLz4NCiAgICAgIDwvZz4NCiAgICAgIDxwYXRoIGQ9Ik0yMC42NSwyNS4zM2ExOS43NiwxOS43NiwwLDAsMSw2LjY3LTQuNjYiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiLz4NCiAgICAgIDxwYXRoIGQ9Ik0zNSwyMC43M2E0NSw0NSwwLDAsMSw2LjYxLDMuOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgICAgPHBhdGggZD0iTTEzLjU2LDMyLjQxYy0uMzUsMS42LS43LDMuMi0xLDQuOHMtLjcxLDMuNDYsMCw1Yy41NCwxLjIxLDEuNjQsMi4wOCwyLjM4LDMuMTgsMS4xOSwxLjc3LDEuNDMsNC4wOCwyLjc2LDUuNzVhNy4yMiw3LjIyLDAsMCwwLDQuNjYsMi40MywyMS41NCwyMS41NCwwLDAsMCw1LjM4LS4xIiBmaWxsPSJub25lIi8+DQogICAgICA8cGF0aCBkPSJNOS4yMSwzOS4wNWMtMS4xNSw1Ljc1LDIuMjQsMTEuNTcsNi41LDE1LjE0QzIwLjc4LDU4LjQ1LDMwLDU5LjM3LDM2LjIsNTcuNDRhMi4zOSwyLjM5LDAsMCwwLDEuNjItMS4xNWMuNTItMS4yMy0xLTIuMy0yLjI1LTIuNzYtNC0xLjQ2LTguMjYtMi41LTExLjkzLTQuNzFzLTYuODEtNS45Mi02Ljg5LTEwLjJjMC0xLjc3LDEtNC42NC0uMjQtNi4wOC0xLTEuMTQtMy4xMi0xLTQuMjQtLjE4QzEwLjU4LDMzLjY1LDkuNiwzNy4wNyw5LjIxLDM5LjA1WiIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC4yMSIvPg0KICAgIDwvZz4NCiAgPC9nPg0KPC9zdmc+DQo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MiIgaGVpZ2h0PSI2MiIgdmlld0JveD0iMCAwIDcyIDYyIj4NCiAgPGcgaWQ9IuWcluWxpF8xMiIgZGF0YS1uYW1lPSLlnJblsaQgMTIiPg0KICAgIDxnPg0KICAgICAgPHBhdGggZD0iTTM2LjI0LDYuMzFoLS40OGwtMjguODUsMCwzLjUyLDUwLjg4YTMuNjUsMy42NSwwLDAsMCwzLjY0LDMuMzlINTcuOTNhMy42NSwzLjY1LDAsMCwwLDMuNjQtMy4zOUw2NS4wOSw2LjM1WiIgZmlsbD0iI2ZiYjAzYiIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgICAgPHBhdGggZD0iTTY1LjIsMTEuMjNINi44QTQuOTMsNC45MywwLDAsMSwxLjg3LDYuM2gwQTQuOTMsNC45MywwLDAsMSw2LjgsMS4zOEg2NS4yQTQuOTMsNC45MywwLDAsMSw3MC4xMyw2LjNoMEE0LjkzLDQuOTMsMCwwLDEsNjUuMiwxMS4yM1oiIGZpbGw9IiNmYmIwM2IiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz4NCiAgICAgIDxsaW5lIHgxPSIzNiIgeTE9IjE4Ljg0IiB4Mj0iMzYiIHkyPSI1My4xIiBmaWxsPSIjZmJiMDNiIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIi8+DQogICAgICA8bGluZSB4MT0iMjAuMTYiIHkxPSIxOC44NCIgeDI9IjIzLjczIiB5Mj0iNTMuMSIgZmlsbD0iI2ZiYjAzYiIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgICAgPGxpbmUgeDE9IjUxLjE3IiB5MT0iMTguODQiIHgyPSI0Ny42MSIgeTI9IjUzLjEiIGZpbGw9IiNmYmIwM2IiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz4NCiAgICA8L2c+DQogIDwvZz4NCjwvc3ZnPg0K\"","var baseClamp = require('./_baseClamp'),\n    shuffleSelf = require('./_shuffleSelf'),\n    values = require('./values');\n\n/**\n * The base implementation of `_.sampleSize` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to sample.\n * @param {number} n The number of elements to sample.\n * @returns {Array} Returns the random elements.\n */\nfunction baseSampleSize(collection, n) {\n  var array = values(collection);\n  return shuffleSelf(array, baseClamp(n, 0, array.length));\n}\n\nmodule.exports = baseSampleSize;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MiIgaGVpZ2h0PSI3NiIgdmlld0JveD0iMCAwIDcyIDc2Ij4NCiAgPGcgaWQ9IuWcluWxpF8xMiIgZGF0YS1uYW1lPSLlnJblsaQgMTIiPg0KICAgIDxnPg0KICAgICAgPHBvbHlnb24gcG9pbnRzPSI0Ni4zNiAxNi40MyA2MS4wOSAyMi4zOCA1Ny41NSAzNS44MSA2Ni45NiA0OS42OCA0OC43NCA2NC43OSAzNy4xNSA3NC40MiAxNi41NyA2MS40MiA0Ljc2IDQ0LjY1IDkuNTcgMTcuNTkgMjQuMTIgMTMuMjEgMzcuNzggMS44NyA0Ni4zNiAxNi40MyIgZmlsbD0iI2YyZjJmMiIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgICAgPHBvbHlsaW5lIHBvaW50cz0iNTcuMTcgMzUuNzcgMzQuODEgNTQuMzMgMzYuNTEgNjQuOCIgZmlsbD0iI2YyZjJmMiIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgICAgPGxpbmUgeDE9IjM0LjEzIiB5MT0iMjAuNjQiIHgyPSI0Ni4xNCIgeTI9IjQ0LjkzIiBmaWxsPSIjZjJmMmYyIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIi8+DQogICAgICA8cG9seWxpbmUgcG9pbnRzPSIyNS44OCA0My41NiAyNy4wOSAyNi40OCA5LjE5IDE3LjU1IiBmaWxsPSIjZjJmMmYyIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIi8+DQogICAgPC9nPg0KICA8L2c+DQo8L3N2Zz4NCg==\"","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","import React from 'react'\nimport { MdArrowDropDown, MdClose } from 'react-icons/md'\nimport styled from '@emotion/styled'\n\nimport Flex from '../../../components/Flex'\nimport Box from '../../../components/Box'\nimport Button from '../../../components/Button'\nimport Image from '../../../components/Image'\n\nimport bin from './bin.svg'\nimport trash from './trash.svg'\nimport { responsive } from '../../../components/ThemeProvider/theme'\n\nconst RightDash = styled(Box)`\n  background: linear-gradient(black 50%, rgba(255, 255, 255, 0) 0%);\n  background-position: right;\n  background-repeat: repeat-y;\n  background-size: 1px 16px;\n`\n\nconst ScrollIndicator = ({ progress, isMobile, onClick }) => {\n  return (\n    <Flex direction=\"column\" height=\"100%\" mt=\"1.25em\">\n      {/* <Button.Icon\n        height=\"auto\"\n        px=\"0.25em\"\n        py=\"0.25em\"\n        border=\"2px solid black\"\n        colorScheme=\"yellow\"\n        fontSize={responsive('3em', '1em')}\n        to=\"/catalogue\"\n        icon={<MdClose size=\"2em\" />}\n        rounded=\"0.5em\"\n      /> */}\n      {!isMobile && (\n        <>\n          <Box flex=\"1\">\n            <Box.Relative height=\"100%\">\n              <Box.Absolute top=\"2.5%\" left=\"50%\" transform=\"translateX(-50%)\">\n                <MdArrowDropDown size=\"1.25em\" />\n              </Box.Absolute>\n              <RightDash position=\"absolute\" top=\"10%\" bottom=\"0\" width=\"1px\" right=\"50%\" />\n              <Box.Absolute width=\"100%\" style={{ top: `${progress * 100}%` }} transform=\"translateY(-50%)\">\n                <Image src={trash} />\n              </Box.Absolute>\n            </Box.Relative>\n          </Box>\n          <Box.Relative width=\"100%\" onClick={onClick}>\n            <Image src={bin} />\n          </Box.Relative>\n        </>\n      )}\n    </Flex>\n  )\n}\n\nexport default ScrollIndicator\n","import React, { useEffect, useRef, useState, useMemo, createRef, useContext } from 'react'\nimport { AspectRatio } from '@chakra-ui/react'\nimport { get, random, range, sampleSize, size } from 'lodash'\nimport gsap from 'gsap'\nimport { useWindowSize } from 'react-use';\nimport { SizeMe } from 'react-sizeme';\nimport ReactFullpage from '@fullpage/react-fullpage'\nimport { timer } from 'd3-timer';\nimport { Helmet } from 'react-helmet';\n\nimport Box from '../../components/Box'\nimport Text from '../../components/Text'\nimport Flex from '../../components/Flex'\nimport Image from '../../components/Image'\nimport Circle from '../../components/Circle'\nimport Container from '../../components/Container'\nimport FB from '../../components/Icons/FB'\nimport Line from '../../components/Icons/Line'\nimport BackgroundImage from '../../components/BackgroundImage'\nimport withData from './data/withData';\nimport animations from './data/animations'\nimport ChevDown from './ChevDown';\nimport Hashtag from './Hashtag';\nimport RateCircle from './RateCircle';\nimport Face from '../Face';\nimport Footer from '../Footer';\nimport isIos from '../../components/utils/isIos'\n\nimport trash from './trash-bag.svg'\nimport shareBg from './share-bg.svg'\nimport planb from './planb.svg'\nimport planbBubble from './planb-bubble.svg'\nimport shareBgMobile from './share-bg-mobile.svg'\nimport Handling from './Handling';\nimport ScrollIndicator from './ScrollIndicator';\nimport containerWidthContext from '../../contexts/containerWidth/context'\nimport useResponsive from '../../contexts/mediaQuery/useResponsive';\nimport useShowHeader from '../../contexts/header/useShowHeader';\nimport theme, { responsive } from '../../components/ThemeProvider/theme';\nimport useLoader from '../../utils/useLoader';\nimport imgSize from './data/imgSize'\nimport PerTrash from '../CataloguePage/PerTrash';\nimport useReloadOnOrentation from '../../utils/useReloadOnOrentation';\n\nif (typeof window !== 'undefined') {\n  require('fullpage.js/vendors/scrolloverflow')\n}\n\nlet fpApi\n// const pageCount = 5\nconst trashSidePos = 20\nconst scrollingDuration = 1\nconst idealWidth = 200\n\nlet theTimeline\nlet endTimeline\nlet progressTimer\n\nconst TrashName = ({ children, ...props }) => (\n  <Box.Absolute\n    top={responsive('4.5em', '1.25em')}\n    left={responsive('2em', '1.5em')}\n    color=\"white\"\n    {...props}\n  >\n    <Text fontSize={responsive('4em', '1.5625em')} fontWeight=\"900\" letterSpacing=\"0.1em\">{children}</Text>\n  </Box.Absolute>\n)\n\nconst SectionTitle = ({ children, ...props }) => (\n  <Box.Absolute left={responsive('2em', '1.5em')} top={responsive('10.5em', '3.4375em')} {...props}>\n    <Text fontSize={responsive('2em', '0.9375em')}>{children}</Text>\n  </Box.Absolute>\n)\n\nconst TrashDescription = (props) => (\n  <Box.Absolute bottom={responsive('9%', '10%')} right={responsive('10%', '6em')} width={responsive('80%', '30%')}>\n    <Text lineHeight=\"1.625\" letterSpacing=\"0.075em\" textAlign=\"justify\" fontSize={responsive('2.5em', '1em')} {...props} />\n  </Box.Absolute>\n)\n\nconst TrashValue = (props) => (\n  <Box.Absolute bottom={responsive('12%', '10%')} right={responsive('10%', '8em')} width={responsive('80%', '25%')}>\n    <Text lineHeight=\"1.75\" letterSpacing=\"0.075em\" textAlign=\"justify\" fontSize={responsive('2.5em', '1em')} fontWeight=\"700\" {...props} />\n  </Box.Absolute>\n)\n\nconst TrashNote = ({ children, ...props }) => {\n  const lined = useMemo(() => {\n    return children && children.replace(/\\|/g, '\\n')\n  }, [children])\n  return children && (\n    <Box.Absolute top={responsive('4em', 'auto')} bottom={responsive('auto', '1.25em')} right={responsive('6%', '4.75em')} width={responsive('50%', '20%')}>\n      <Text textAlign=\"right\" fontSize={responsive('2.5em', '1em')} whiteSpace=\"pre-wrap\" {...props}>\n        *{lined}\n      </Text>\n    </Box.Absolute>\n  )\n}\n\nconst TrashNumber = ({ children, ...props }) => (\n  <Box.Absolute\n    bottom={responsive('auto', '1.25em')}\n    top={responsive('0em', 'auto')}\n    left={responsive('2em', '1.5em')}\n    color=\"white\"\n    {...props}\n  >\n    <Text.Number fontSize={responsive('3.5em', '1.09375em')}>{children}</Text.Number>\n  </Box.Absolute>\n)\n\nconst getPoses = (data, newHeight, explosionGap) => {\n  const posByPartName = {}\n  const posByOrder = []\n  const yStart = newHeight - (newHeight - imgSize[1]) / 2\n\n  return [\n    data.imgs.map((cfg) => {\n      // calc parts y position\n      const y = (yStart - cfg.y - data.positions[cfg.order] - imgSize[1] * explosionGap / 100 * cfg.order) / imgSize[1] * 100\n      posByOrder[cfg.order] = y\n      const yPos = `${y}%`\n      if (cfg.partName) {\n        posByPartName[cfg.partName] = yPos\n      }\n      return yPos\n    }),\n    posByPartName,\n    posByOrder,\n  ]\n}\n\nconst getHeightConfig = (data, explosionGap) => {\n  const newHeight = data.totalHeight + (data.partsCount - 1) * imgSize[1] * explosionGap / 100\n  return newHeight\n}\n\nconst colorsCfg = {\n  A: 'green',\n  B: 'orange',\n  C: 'pink',\n}\n\nconst gradeData = {\n  A: '因為材質單純、處理成本相對低，此類垃圾回收價值高。只要你不分錯，它們就有很高的機會被再利用。',\n  B: '這類的垃圾有回收價值，但因為某些原因造成結果浮動，像是垃圾的量不夠、怎麼回收或製造。我們可以試著好好回收，創造它的回收價值喔！',\n  C: '因為回收價格低、太難處理或太髒等，造成它沒有回收價值。我們可以選擇重複使用，或者少用點。',\n}\n\nlet cfgPoses = {}\n\nconst TrashPage = ({ trashData: data, allData, data: { site: { siteMetadata } } }) => {\n  const [scrollProgress, setProgress] = useState()\n  const windowSize = useWindowSize()\n  const { isMobile } = useResponsive()\n  const { containerWidth } = useContext(containerWidthContext)\n  // setup refs\n  const faceRef = useRef()\n  const trashRef = useRef()\n  const trashXRef = useRef()\n  const layerRefs = useMemo(() => data.imgs.map(() => createRef()), [data])\n  const animaRefs = useMemo(() => data.imgs.map(() => createRef()), [data])\n  const partsRefs = useMemo(() => data.imgs.map(() => createRef()), [data])\n  useReloadOnOrentation()\n\n  const colorScheme = `colors.${colorsCfg[data.recycleValue]}`\n  const trashWidth = (isMobile ? (isIos ? 135 : 160) : 75) * (data.transform.scale ? (isMobile && data.transform.mobileScale ? data.transform.mobileScale : data.transform.scale) / 100 : Math.min(1, idealWidth / (data.xRange[1] - data.xRange[0])))\n  const explosionGap = (isMobile ? 10 : 5) * (100 + (data.transform.gap || 0)) / 100\n  const faceId = useMemo(() => data.transform.faceNo || (random(4) + 1), [data])\n  const readeMore = useMemo(() => sampleSize(allData.filter(d => d.img && d.id !== data.id), 5), [data, allData])\n  const endTransition = [\n    [0 + (data.transform.mobileX || 0), -50 + (data.transform.mobileY || 0)],\n    [-trashSidePos + (data.transform.x || 0), -20 + (data.transform.y || 0)],\n  ]\n  const endPos = [containerWidth * 1, containerWidth * 0.25]\n  useShowHeader(colorScheme)\n  useLoader(data.img)\n  const pageUrl = `${siteMetadata.url}/trash/${data.id}`\n\n  const n = `#${String(data.id).padStart(3, '0')}`\n  const parts = useMemo(() => {\n    if (!data) return null\n    return data.imgs.map(({ src, centeroid, x, width, partName, side }, i) => {\n      let pos\n      let linePos\n      const theSide = isMobile ? 0 : side\n\n      if (partName) {\n\n        pos = theSide ? (x * 1 + width * 1) / imgSize[0] * 100 + 3 : (1 - x / imgSize[0]) * 100 + 3\n        linePos = theSide ? {\n          left: `${pos}%`,\n          right: `${100 - pos}%`\n        } : {\n          right: `${pos}%`,\n          left: `${100 - pos}%`\n        }\n\n        cfgPoses[partName] = {\n          pos,\n          linePos,\n        }\n      }\n      const top = `${centeroid[1] / imgSize[1] * 100}%`\n      return (\n        <Box.FullAbs ref={layerRefs[i]} key={i}>\n          <BackgroundImage ref={animaRefs[i]} ratio={imgSize[0] / imgSize[1]} src={src} />\n          {partName && (\n            <Box ref={partsRefs[i]}>\n              <Box.Absolute\n                top={top}\n                style={linePos}\n                height=\"2px\"\n                bg={colorScheme}\n                className=\"line\"\n              />\n              <Box.Absolute\n                top={top}\n                style={{ [theSide ? 'left' : 'right'] : `${pos}%` }}\n                transform=\"translateY(-50%)\"\n                whiteSpace=\"nowrap\"\n                className=\"circle-container\"\n                pointerEvents=\"all\"\n              >\n                <Circle\n                  bg={colorScheme}\n                  width={responsive('20em', '7.5em')}\n                  textAlign=\"center\"\n                  className=\"circle-1\"\n                  whiteSpace=\"pre-wrap\"\n                  opacity={0}\n                >\n                  <Text color=\"black\" fontSize={responsive('3em', '0.9375em')} fontWeight=\"900\">{partName}</Text>\n                  <Text color=\"white\" fontSize={responsive('2em', '0.78125em')}>{data.partsDetail[partName]}</Text>\n                </Circle>\n                <Box.FullAbs className=\"circle-2\" transform=\"scale(0)\">\n                  <Circle border=\"2px solid\" borderColor={colorScheme} bg=\"white\" width=\"100%\" textAlign=\"center\" whiteSpace=\"pre-wrap\">\n                    <Text color=\"black\" fontSize={responsive('3em', '0.9375em')} fontWeight=\"900\">{data.belongsTo[partName]}</Text>\n                    {data.recycleRate[data.belongsTo[partName]] && (\n                      <Text color={colorScheme} fontSize={responsive('2em', '0.78125em')} fontWeight=\"900\">回收率{data.recycleRate[data.belongsTo[partName]]}%</Text>\n                    )}\n                  </Circle>\n                </Box.FullAbs>\n                <Box.Absolute className=\"circle-rate\" opacity=\"0\" left=\"-8%\" right=\"-8%\" top=\"-8%\" bottom=\"-8%\" pointerEvents=\"none\">\n                  {data.recycleRate[data.belongsTo[partName]] && (\n                    <RateCircle className=\"circle-rate-progress\" value={data.recycleRate[data.belongsTo[partName]]} color={colorScheme} />\n                  )}\n                </Box.Absolute>\n              </Box.Absolute>\n            </Box>\n          )}\n        </Box.FullAbs>\n      )\n    })\n  }, [data, isMobile])\n  const pages = [\n    (\n      <Container height=\"100%\">\n        <Box.Absolute left=\"1.5em\" top=\"0em\">\n          <Text.Number\n            textStroke=\"0.15625rem\"\n            textStrokeColor={`colors.${colorScheme}`}\n            color=\"white\"\n            fontSize=\"6.25em\"\n          >{n}</Text.Number>\n        </Box.Absolute>\n        <Box.AbsCenter top={responsive('15%', '40%')} width=\"100%\" textAlign=\"center\" transform=\"rotate(-12deg)\">\n          <SizeMe>\n            {({ size }) => (\n              <Text\n                as=\"h2\"\n                color={colorScheme}\n                fontSize={size.width ? `${Math.min(Math.floor(size.width / (data.name.length + 1)), size.width / 4.5)}px` : 0}\n                fontWeight=\"900\"\n                letterSpacing={data.name.length < 3 && '0.5em'}\n                ml={data.name.length < 3 && '0.25em'}\n              >\n                {data.name}\n              </Text>\n            )}\n          </SizeMe>\n        </Box.AbsCenter>\n        <TrashDescription color={colorScheme}>\n          {data.description}\n        </TrashDescription>\n        <ChevDown onClick={() => fpApi.moveSectionDown()} />\n      </Container>\n    ),\n    (\n      <Container height=\"100%\">\n        <TrashName>{data.name}</TrashName>\n        <Box.Absolute top={responsive('5%', '10%')} width={responsive('86%', '50%')} left={responsive('7%', 0)}>\n          <Hashtag color={colorScheme}>{data.recycleValue}</Hashtag>\n        </Box.Absolute>\n        <TrashValue color=\"white\">\n          {gradeData[data.recycleValue]}\n        </TrashValue>\n        <TrashNumber>{n}</TrashNumber>\n        <ChevDown onClick={() => fpApi.moveSectionDown()} />\n      </Container>\n    ),\n    (\n      <Container height=\"100%\">\n        <TrashName color={colorScheme}>{data.name}</TrashName>\n        <SectionTitle>組成的材質是什麼？</SectionTitle>\n        <TrashNumber color={colorScheme}>{n}</TrashNumber>\n        <TrashNote color={colorScheme}>\n          {data.partsNote}\n        </TrashNote>\n      </Container>\n    ),\n    (\n      <Container height=\"100%\">\n        <TrashName color={colorScheme}>{data.name}</TrashName>\n        <SectionTitle>用完應該丟在哪裡？</SectionTitle>\n        <TrashNumber color={colorScheme}>{n}</TrashNumber>\n        <TrashNote color={colorScheme}>\n          {data.recycleNote}\n        </TrashNote>\n      </Container>\n    ),\n    <>\n      <Box as={isMobile ? 'div' : Container} px={responsive(0, '1.25em')}>\n        <Box width={responsive('100%', '50%')} mx=\"auto\" pt={responsive('0', '5vh')}>\n          <BackgroundImage src={isMobile ? shareBgMobile : shareBg} ratio={isMobile ? 750 / 574 : 1368 / 746} overflow=\"visible\">\n            <SizeMe>\n              {({ size }) => (\n                <Box.Absolute left={responsive('2em', '40%')} top={responsive('3em', '36%')} transform={responsive('', 'trnsateY(-50%)')} width={responsive('55%', '45%')}>\n                  <Box fontSize={`${size.width / 25}px`}>\n                    <Text letterSpacing=\"0.05em\" fontSize={responsive('1.75em', '2.25em')} fontWeight=\"900\">＃如果你不好好丟垃圾</Text>\n                    <Text fontSize={responsive('3.25em', '3.5em')} fontWeight=\"900\" color={colorScheme}>{data.share}</Text>\n                  </Box>\n                </Box.Absolute>\n                )}\n            </SizeMe>\n          </BackgroundImage>\n          <Flex fontSize={responsive('3em', '0.625em')} px=\"0.25em\" justifyContent={responsive('', 'flex-end')} mt={responsive('-10%', '-4rem')} mr={responsive(0, '-2rem')}>\n            <FB border=\"1px solid black\" mx=\"0.125em\" rounded=\"0.25em\" href={`https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`} />\n            <Line border=\"1px solid black\" mx=\"0.125em\" rounded=\"0.25em\" href={`https://line.naver.jp/R/msg/text/?${pageUrl}`} />\n          </Flex>\n        </Box>\n      </Box>\n      <Box\n        bg={colorScheme}\n        pb=\"1em\"\n        pt={responsive('6em', '2em')}\n        position=\"relative\"\n      >\n        <Container px=\"1.25em\">\n          <Flex pt=\"1em\" flexDirection={responsive('column', 'row')}>\n            <Box>\n              <Box pr={responsive(0, '1.5em')}>\n                <Text fontWeight=\"700\" color=\"white\" fontSize={responsive('3.5em', '1.25em')} letterSpacing=\"0.1em\">＃要給垃圾一個好歸宿，你該這麼做</Text>\n              </Box>\n              <Handling steps={data.handling} />\n            </Box>\n            {data.alternative && (\n              <Box\n                flex=\"1\"\n                color=\"white\"\n                mt={responsive('2.5em', 0)}\n                pt={responsive('2.5em', 0)}\n                pl={responsive('0', '1.5em')}\n                borderTop={responsive('2px solid', 'none')}\n                borderLeft={responsive('none', '2px solid')}\n                alignItems={responsive('flex-start', 'center')}\n              >\n                <Text fontWeight=\"700\" fontSize={responsive('3.5em', '1.25em')} letterSpacing=\"0.1em\">＃或者，你有替代方案：</Text>\n                <Flex width={responsive('66em', '24em')} mr={responsive('2em', '1em')} alignItems=\"flex-end\" my={responsive('2em', '0.5em')}>\n                  <Box width=\"22%\" pb=\"5%\">\n                    <Image src={planb} />\n                  </Box>\n                  <Box flex=\"1\" pl=\"2%\">\n                    <BackgroundImage src={planbBubble} ratio={486 / 176}>\n                      <Box.Absolute top=\"50%\" left=\"16%\" right=\"5%\" transform=\"translateY(-50%)\">\n                        <Text fontSize={responsive('2.75em', '1em')} letterSpacing=\"0.1em\">{data.alternative}</Text>\n                      </Box.Absolute>\n                    </BackgroundImage>\n                  </Box>\n                </Flex>\n              </Box>\n            )}\n          </Flex>\n        </Container>\n      </Box>\n      <Box bg=\"white\" py=\"1.25em\" position=\"relative\" zIndex={1}>\n        <Container>\n          <Flex mt={responsive('2em', '0.25em')}>\n            <Box width={responsive('4em', '1.75em')} mr=\"0.5em\">\n              <Image src={trash} />\n            </Box>\n            <Text fontSize={responsive('2.75em', '1.25em')} fontWeight=\"900\" letterSpacing=\"0.125em\">猜你也丟過這些...</Text>\n          </Flex>\n        </Container>\n        <Box overflow={responsive('scroll', 'hidden')} mr={responsive(0, '1.25em')} className=\"overflow-scroll\" py=\"1em\">\n          <Box as={isMobile ? 'div' : Container}>\n            <Flex width={responsive('200vw', '100%')}>\n              {readeMore.map(d => (\n                <Box key={d.id} width=\"20%\">\n                  <Box p=\"2%\">\n                    <PerTrash data={d} />\n                  </Box>\n                </Box>\n              ))}\n            </Flex>\n          </Box>\n        </Box>\n        <Container>\n          <Footer pt={responsive('4em', '2em')} pb=\"2em\" />\n        </Container>\n      </Box>\n      <Box.Absolute\n        left=\"0\"\n        right=\"0\"\n        top=\"0\"\n        height={`${windowSize.height - theme.headerHeight}px)`}\n        pointerEvents=\"none\"\n        opacity={(scrollProgress >= 1) * 1}\n      >\n        <Container height=\"100%\">\n          <Box.Relative height=\"100%\">\n            <Box.Absolute\n              width={`${trashWidth}%`}\n              left={`${(100 - trashWidth) / 2}%`}\n              top={responsive(`${endPos[0]}px`, `${endPos[1]}px`)}\n              transform={`translate3d(${isMobile ? '10%' : 0}, -50%, 0) ${data.transform.rotate ? `rotate(${isMobile && data.transform.mobileRotate ? data.transform.mobileRotate : data.transform.rotate}deg)` : ''}`}\n            >\n              <Box transform={`translate(${endTransition[isMobile ? 0 : 1].map(d => `${d}%`).join(',')}) ${data.transform.shareScale ? `scale(${(isMobile && data.transform.mobileShareScale ? data.transform.mobileShareScale : data.transform.shareScale) / 100})` : ''}`}>\n                <Image src={data.img} />\n                <Face transform={data.transform.face} id={faceId} />\n              </Box>\n            </Box.Absolute>\n          </Box.Relative>\n        </Container>\n      </Box.Absolute>\n    </>,\n  ]\n  const pageCount = pages.length\n  const pagesRefs = useMemo(() => range(pageCount).map(() => createRef()), [])\n  // const pageRevealRefs = useMemo(() => range(pageCount).map(() => createRef()), [])\n  useEffect(() => {\n    if (theTimeline) {\n      theTimeline.kill()\n    }\n    // set trash size\n    const defaultTrashCfg = {\n      width: `${trashWidth}%`,\n      left: `${(100 - trashWidth) / 2}%`,\n      rotate: (isMobile && data.transform.mobileRotate ? data.transform.mobileRotate : data.transform.rotate) || 0,\n      y: '-50%',\n    }\n    gsap.set(trashRef.current, defaultTrashCfg)\n    const rateEles = []\n\n    theTimeline = gsap.timeline({\n      onUpdate: () => {\n        if (rateEles.length) {\n          rateEles.forEach((ele) => {\n            const e = new Event('progress')\n            e.progress = Math.min(1, Math.max(0, theTimeline.time() - 2))\n            ele.dispatchEvent(e)\n          })\n        }\n      },\n    })\n    endTimeline = gsap.timeline()\n    // console.log(data)\n    const newHeight = getHeightConfig(data, explosionGap)\n    // set exploded trash size\n    const explodeWidthFactor = Math.min(\n      Math.floor(((windowSize.height - 60) / (newHeight * (isMobile ? 1.35 : 1.2)) * imgSize[0]) / containerWidth * 100),\n      isMobile ? (data.transform.explosionScale || 100) : 50\n    )\n\n    const animation = animations[data.name]\n\n    theTimeline.to(faceRef.current, {\n      opacity: 0,\n      duration: scrollingDuration,\n    })\n    theTimeline.to(trashRef.current, {\n      rotate: 0,\n      duration: scrollingDuration,\n    }, 0)\n    theTimeline.to(trashRef.current, {\n      width: `${explodeWidthFactor}%`,\n      left: `${(100 - explodeWidthFactor) / 2}%`,\n      top: isMobile ? `${50 + (data.transform.mobileExplosionY || 0)}%` : '50%',\n      x: isMobile ? '25%' : '0',\n      // y: isMobile ? '45%' : '50%',\n      duration: scrollingDuration,\n    }, scrollingDuration)\n    const [poses, posByPartName, posByOrder] = getPoses(data, newHeight, explosionGap)\n    // const heightByOrder = posByOrder.reduce((all, p, i) => [...all, i < posByOrder.length - 1 ? (p - posByOrder[i + 1]) : 0], [])\n    const combineParts = []\n\n    data.imgs.forEach((cfg, i) => {\n      gsap.set(layerRefs[cfg.index].current, { y: '0%' })\n      // calc parts y position\n      theTimeline.to(layerRefs[cfg.index].current, {\n        y: poses[i],\n        duration: scrollingDuration,\n      }, scrollingDuration)\n      if (animation && animation[cfg.layerName]) {\n        Object.entries(animation[cfg.layerName]).forEach(([d, ani]) => {\n          theTimeline.to(animaRefs[cfg.index].current, {\n            ...ani,\n            duration: scrollingDuration * (d / 100),\n          }, scrollingDuration)\n        })\n      }\n      if (cfg.partName) {\n        theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-container'), {\n          [cfg.side && !isMobile ? 'left' : 'right']: isMobile ? '92%' : '100%',\n          duration: scrollingDuration,\n        }, scrollingDuration)\n        theTimeline.to(partsRefs[cfg.index].current.querySelector('.line'), {\n          [cfg.side && !isMobile ? 'right' : 'left']: '-2%',\n          opacity: 1,\n          duration: scrollingDuration,\n        }, scrollingDuration)\n        theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-1'), {\n          opacity: 1,\n          duration: scrollingDuration,\n        }, scrollingDuration)\n\n        if (/^@/.test(data.belongsTo[cfg.partName])) {\n          const attachName = data.belongsTo[cfg.partName].substring(1)\n          const offset = posByPartName[attachName].replace('%', '') - poses[i].replace('%', '')\n          combineParts[cfg.order] = [attachName, offset]\n        }\n      }\n      theTimeline.to(layerRefs[cfg.index].current, {\n        y: 0,\n        duration: scrollingDuration,\n      }, scrollingDuration * 3)\n    })\n\n    const offsetSign = combineParts.length ? combineParts.reduce((s, o) => {\n      if (s === 0) return 0\n      const sign = o ? Math.sign(o[1]) : null\n      return typeof s === 'number' ? (s === sign ? s : 0) : sign\n    }, null) : 0\n    const totalOffset = combineParts.length ? combineParts.reduce((s, o) => {\n      return s + (o ? o[1] : 0)\n    }, 0) : 0\n    // console.log(combineParts, offsetSign, totalOffset)\n    if (totalOffset) {\n      theTimeline.to(trashXRef.current, {\n        y: `${-totalOffset / (combineParts.filter(Boolean).length + 1)}%`,\n        duration: scrollingDuration,\n      }, 2 * scrollingDuration)\n    }\n\n    data.imgs.forEach((cfg, i) => {\n      if (combineParts[cfg.order]) {\n        theTimeline.to(layerRefs[cfg.index].current, {\n          y: posByPartName[combineParts[cfg.order][0]],\n          duration: scrollingDuration,\n        }, 2 * scrollingDuration)\n        if (cfg.partName) {\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-container'), {\n            opacity: 0,\n            [cfg.side && !isMobile ? 'left' : 'right']: `${cfgPoses[cfg.partName].pos}%`,\n            duration: scrollingDuration,\n          }, scrollingDuration * 2)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.line'), {\n            opacity: 0,\n            ...cfgPoses[cfg.partName].linePos,\n            duration: scrollingDuration,\n          }, scrollingDuration * 2)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-1'), {\n            opacity: 0,\n            duration: scrollingDuration,\n          }, scrollingDuration * 2)\n        }\n      } else  {\n\n        if (offsetSign < 0) {\n          if (cfg.order < combineParts.length && !combineParts[cfg.order]) {\n            const nextPart = combineParts.slice(cfg.order).find(Boolean)\n            theTimeline.to(layerRefs[cfg.index].current, {\n              y: `${poses[i].replace('%', '') * 1 + nextPart[1]}%`,\n              duration: scrollingDuration,\n            }, 2 * scrollingDuration)\n          }\n        }\n\n        if (cfg.partName) {\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-2'), {\n            scale: 1,\n            duration: scrollingDuration,\n          }, 2 * scrollingDuration)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-rate'), {\n            opacity: 1,\n            duration: scrollingDuration / 2,\n          }, 2.5 * scrollingDuration)\n          const rateEle = partsRefs[cfg.index].current.querySelector('.circle-rate-progress')\n          if (rateEle) {\n            rateEles.push(rateEle)\n          }\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-container'), {\n            opacity: 0,\n            [cfg.side && !isMobile ? 'left' : 'right']: `${cfgPoses[cfg.partName].pos}%`,\n            duration: scrollingDuration,\n          }, scrollingDuration * 3)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.line'), {\n            opacity: 0,\n            ...cfgPoses[cfg.partName].linePos,\n            duration: scrollingDuration,\n          }, scrollingDuration * 3)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-1'), {\n            opacity: 0,\n            duration: scrollingDuration * 0.1,\n          }, scrollingDuration * 3)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-2'), {\n            opacity: 0,\n            duration: scrollingDuration,\n          }, 3 * scrollingDuration)\n          theTimeline.to(partsRefs[cfg.index].current.querySelector('.circle-rate'), {\n            opacity: 0,\n            duration: scrollingDuration,\n          }, 3 * scrollingDuration)\n        }\n\n        if (animation && animation[cfg.layerName]) {\n          theTimeline.to(animaRefs[cfg.index].current, {\n            ...animation[cfg.layerName][0],\n            duration: scrollingDuration,\n          }, 3 * scrollingDuration)\n        }\n      }\n    })\n    theTimeline.to(trashRef.current, {\n      ...defaultTrashCfg,\n      duration: scrollingDuration,\n    }, scrollingDuration * 3)\n    endTimeline\n      .to(trashXRef.current, {\n        duration: scrollingDuration,\n        x: `${endTransition[isMobile ? 0 : 1][0]}%`,\n        y: `${endTransition[isMobile ? 0 : 1][1]}%`,\n        scale: data.transform.shareScale ? (isMobile && data.transform.mobileShareScale ? data.transform.mobileShareScale : data.transform.shareScale) / 100 : 1,\n      }, 0)\n      .to(trashRef.current, {\n        x: isMobile ? '10%' : 0,\n        duration: scrollingDuration,\n        top: `${endPos[isMobile ? 0 : 1]}px`,\n      }, 0)\n      .to(faceRef.current, { duration: scrollingDuration, opacity: 1 })\n\n    endTimeline.pause()\n    theTimeline.pause()\n  }, [data, windowSize.height, containerWidth, isMobile])\n  const bgColor = get(theme, `colors.${colorScheme}`)\n  // console.log(data)\n  return (\n    <div>\n      <Helmet>\n        <title>{`#${data.id} ${data.name}`}</title>\n        <meta name=\"og:image\" content={`${siteMetadata.url}/share/${data.id}/share.jpg`} />\n      </Helmet>\n      <ReactFullpage\n        sectionsColor={['', bgColor, 'white', 'white', bgColor]}\n        licenseKey={process.env.REACT_APP_FULLPAGE_JS_KEY}\n        scrollingSpeed={scrollingDuration * 1000}\n        verticalCentered={false}\n        onLeave={(origin, destination) => {\n          theTimeline.tweenTo(destination.index * scrollingDuration, { duration: scrollingDuration })\n          endTimeline.tweenTo(Math.max(destination.index - 3, 0) * scrollingDuration)\n          if (progressTimer) {\n            progressTimer.stop()\n          }\n          const incre = destination.index - origin.index\n          progressTimer = timer((elapsed) => {\n            setProgress((origin.index + incre * Math.min(elapsed / (scrollingDuration * 1000), 1)) / (pageCount - 1))\n            if (elapsed > scrollingDuration * 1000) progressTimer.stop();\n          });\n        }}\n        scrollOverflow\n        normalScrollElements={isMobile ? '.overflow-scroll, .footer-nav' : '.footer-nav'}\n        afterRender={() => {\n          setTimeout(() => {\n            document.body.style.height = `${windowSize.height}px`\n          })\n        }}\n        afterResize={() => {\n          setTimeout(() => {\n            document.body.style.height = `${windowSize.height}px`\n          })\n        }}\n        render={({ fullpageApi }) => {\n          fpApi = fullpageApi\n          return (\n            <ReactFullpage.Wrapper>\n              {pages.map((page, i) => (\n                <div className={`section ${i === 4 ? '' : 'fp-noscroll'}`} key={i} ref={pagesRefs[i]}>\n                  <Box height=\"100%\" pt={theme.headerHeight}>\n                    {/* {createElement(i ? PageReveal : 'div', { ref: pageRevealRefs[i] }, page)} */}\n                    <Box.Relative height=\"100%\">\n                      {page}\n                    </Box.Relative>\n                  </Box>\n                </div>\n              ))}\n            </ReactFullpage.Wrapper>\n          )\n        }}\n      />\n      <Box.Fixed\n        top=\"0\"\n        left=\"0\"\n        right=\"0\"\n        display={scrollProgress >= 1 ? 'none' : 'block'}\n        height={`${windowSize.height}px`}\n        zIndex=\"docked\"\n        pointerEvents=\"none\"\n        pt={theme.headerHeight}\n      >\n        <Container height=\"100%\">\n          <Box.Relative height=\"100%\">\n            <Box.Absolute\n              ref={trashRef}\n              id=\"trash-container\"\n              top={responsive(`${45 + (data.transform.mobileFirstY || 0)}%`, `${50 + (data.transform.firstY || 0)}%`)}\n              width={`${trashWidth}%`}\n              left={`${(100 - trashWidth) / 2}%`}\n            >\n              <div ref={trashXRef}>\n                <AspectRatio ratio={imgSize[0] / imgSize[1]} overflow=\"visible\">\n                  <Box overflow=\"visible\">\n                    {parts}\n                    <Face transform={data.transform.face} ref={faceRef} id={faceId} />\n                  </Box>\n                </AspectRatio>\n              </div>\n            </Box.Absolute>\n          </Box.Relative>\n        </Container>\n      </Box.Fixed>\n      {!isMobile && (\n        <Box.Fixed top={responsive('2em', '5%')} bottom=\"5%\" right=\"1.25em\" width={responsive('9em', '1.875em')} zIndex=\"docked\" pt={theme.headerHeight}>\n          <ScrollIndicator onClick={() => fpApi.moveTo(5)} isMobile={isMobile} progress={scrollProgress} />\n        </Box.Fixed>\n      )}\n    </div>\n  )\n}\n\nexport default withData(TrashPage)\n","import { graphql } from 'gatsby'\r\nimport Page from '../containers/TrashPage'\r\n\r\nexport default Page\r\n\r\nexport const pageQuery = graphql`\r\n  query TrashPageQuery {\r\n    site {\r\n      siteMetadata {\r\n        url\r\n      }\r\n    }\r\n  }\r\n`\r\n","/*!\n* Scrolloverflow 2.0.6 module for fullPage.js >= 3\n* https://github.com/alvarotrigo/fullPage.js\n*/\n\n/**\n* Customized version of iScroll.js 0.1.3\n* It fixes bugs affecting its integration with fullpage.js\n* @license\n*/\n\n/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\n  var rAF = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60);\n  };\n\n  var utils = function () {\n    var me = {};\n    var _elementStyle = document.createElement('div').style;\n\n    var _vendor = function () {\n      var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n          transform,\n          i = 0,\n          l = vendors.length;\n\n      for (; i < l; i++) {\n        transform = vendors[i] + 'ransform';\n        if (transform in _elementStyle) return vendors[i].substr(0, vendors[i].length - 1);\n      }\n\n      return false;\n    }();\n\n    function _prefixStyle(style) {\n      if (_vendor === false) return false;\n      if (_vendor === '') return style;\n      return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n    }\n\n    me.getTime = Date.now || function getTime() {\n      return new Date().getTime();\n    };\n\n    me.extend = function (target, obj) {\n      for (var i in obj) {\n        target[i] = obj[i];\n      }\n    };\n\n    me.addEvent = function (el, type, fn, capture) {\n      el.addEventListener(type, fn, !!capture);\n    };\n\n    me.removeEvent = function (el, type, fn, capture) {\n      el.removeEventListener(type, fn, !!capture);\n    };\n\n    me.prefixPointerEvent = function (pointerEvent) {\n      return window.MSPointerEvent ? 'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8) : pointerEvent;\n    };\n\n    me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n      var distance = current - start,\n          speed = Math.abs(distance) / time,\n          destination,\n          duration;\n      deceleration = deceleration === undefined ? 0.0006 : deceleration;\n      destination = current + speed * speed / (2 * deceleration) * (distance < 0 ? -1 : 1);\n      duration = speed / deceleration;\n\n      if (destination < lowerMargin) {\n        destination = wrapperSize ? lowerMargin - wrapperSize / 2.5 * (speed / 8) : lowerMargin;\n        distance = Math.abs(destination - current);\n        duration = distance / speed;\n      } else if (destination > 0) {\n        destination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n        distance = Math.abs(current) + destination;\n        duration = distance / speed;\n      }\n\n      return {\n        destination: Math.round(destination),\n        duration: duration\n      };\n    };\n\n    var _transform = _prefixStyle('transform');\n\n    me.extend(me, {\n      hasTransform: _transform !== false,\n      hasPerspective: _prefixStyle('perspective') in _elementStyle,\n      hasTouch: 'ontouchstart' in window,\n      hasPointer: !!(window.PointerEvent || window.MSPointerEvent),\n      // IE10 is prefixed\n      hasTransition: _prefixStyle('transition') in _elementStyle\n    });\n    /*\n    This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n    - galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n    - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n    */\n\n    me.isBadAndroid = function () {\n      var appVersion = window.navigator.appVersion; // Android browser is not a chrome browser.\n\n      if (/Android/.test(appVersion) && !/Chrome\\/\\d/.test(appVersion)) {\n        var safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n\n        if (safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n          return parseFloat(safariVersion[1]) < 535.19;\n        } else {\n          return true;\n        }\n      } else {\n        return false;\n      }\n    }();\n\n    me.extend(me.style = {}, {\n      transform: _transform,\n      transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n      transitionDuration: _prefixStyle('transitionDuration'),\n      transitionDelay: _prefixStyle('transitionDelay'),\n      transformOrigin: _prefixStyle('transformOrigin')\n    });\n\n    me.hasClass = function (e, c) {\n      var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n      return re.test(e.className);\n    };\n\n    me.addClass = function (e, c) {\n      if (me.hasClass(e, c)) {\n        return;\n      }\n\n      var newclass = e.className.split(' ');\n      newclass.push(c);\n      e.className = newclass.join(' ');\n    };\n\n    me.removeClass = function (e, c) {\n      if (!me.hasClass(e, c)) {\n        return;\n      }\n\n      var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n      e.className = e.className.replace(re, ' ');\n    };\n\n    me.offset = function (el) {\n      var left = -el.offsetLeft,\n          top = -el.offsetTop; // jshint -W084\n\n      while (el = el.offsetParent) {\n        left -= el.offsetLeft;\n        top -= el.offsetTop;\n      } // jshint +W084\n\n\n      return {\n        left: left,\n        top: top\n      };\n    };\n\n    me.preventDefaultException = function (el, exceptions) {\n      for (var i in exceptions) {\n        if (exceptions[i].test(el[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    me.extend(me.eventType = {}, {\n      touchstart: 1,\n      touchmove: 1,\n      touchend: 1,\n      mousedown: 2,\n      mousemove: 2,\n      mouseup: 2,\n      pointerdown: 3,\n      pointermove: 3,\n      pointerup: 3,\n      MSPointerDown: 3,\n      MSPointerMove: 3,\n      MSPointerUp: 3\n    });\n    me.extend(me.ease = {}, {\n      quadratic: {\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n        fn: function fn(k) {\n          return k * (2 - k);\n        }\n      },\n      circular: {\n        style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n        // Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n        fn: function fn(k) {\n          return Math.sqrt(1 - --k * k);\n        }\n      },\n      back: {\n        style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n        fn: function fn(k) {\n          var b = 4;\n          return (k = k - 1) * k * ((b + 1) * k + b) + 1;\n        }\n      },\n      bounce: {\n        style: '',\n        fn: function fn(k) {\n          if ((k /= 1) < 1 / 2.75) {\n            return 7.5625 * k * k;\n          } else if (k < 2 / 2.75) {\n            return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n          } else if (k < 2.5 / 2.75) {\n            return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n          } else {\n            return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n          }\n        }\n      },\n      elastic: {\n        style: '',\n        fn: function fn(k) {\n          var f = 0.22,\n              e = 0.4;\n\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k == 1) {\n            return 1;\n          }\n\n          return e * Math.pow(2, -10 * k) * Math.sin((k - f / 4) * (2 * Math.PI) / f) + 1;\n        }\n      }\n    });\n\n    me.tap = function (e, eventName) {\n      var ev = document.createEvent('Event');\n      ev.initEvent(eventName, true, true);\n      ev.pageX = e.pageX;\n      ev.pageY = e.pageY;\n      e.target.dispatchEvent(ev);\n    };\n\n    me.click = function (e) {\n      var target = e.target,\n          ev;\n\n      if (!/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n        // initMouseEvent is deprecated.\n        ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n        ev.initEvent('click', true, true);\n        ev.view = e.view || window;\n        ev.detail = 1;\n        ev.screenX = target.screenX || 0;\n        ev.screenY = target.screenY || 0;\n        ev.clientX = target.clientX || 0;\n        ev.clientY = target.clientY || 0;\n        ev.ctrlKey = !!e.ctrlKey;\n        ev.altKey = !!e.altKey;\n        ev.shiftKey = !!e.shiftKey;\n        ev.metaKey = !!e.metaKey;\n        ev.button = 0;\n        ev.relatedTarget = null;\n        ev._constructed = true;\n        target.dispatchEvent(ev);\n      }\n    };\n\n    return me;\n  }();\n\n  function IScroll(el, options) {\n    this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n    this.scroller = this.wrapper.children[0];\n    this.scrollerStyle = this.scroller.style; // cache style for better performance\n\n    this.options = {\n      resizeScrollbars: true,\n      mouseWheelSpeed: 20,\n      snapThreshold: 0.334,\n      // INSERT POINT: OPTIONS\n      disablePointer: !utils.hasPointer,\n      disableTouch: utils.hasPointer || !utils.hasTouch,\n      disableMouse: utils.hasPointer || utils.hasTouch,\n      startX: 0,\n      startY: 0,\n      scrollY: true,\n      directionLockThreshold: 5,\n      momentum: true,\n      bounce: true,\n      bounceTime: 600,\n      bounceEasing: '',\n      preventDefault: true,\n      preventDefaultException: {\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/\n      },\n      HWCompositing: true,\n      useTransition: true,\n      useTransform: true,\n      bindToWrapper: typeof window.onmousedown === \"undefined\"\n    };\n\n    for (var i in options) {\n      this.options[i] = options[i];\n    } // Normalize options\n\n\n    this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n    this.options.useTransition = utils.hasTransition && this.options.useTransition;\n    this.options.useTransform = utils.hasTransform && this.options.useTransform;\n    this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault; // If you want eventPassthrough I have to lock one of the axes\n\n    this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n    this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX; // With eventPassthrough we also need lockDirection mechanism\n\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n    this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n    this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    } // https://github.com/cubiq/iscroll/issues/1029\n\n\n    if (!this.options.useTransition && !this.options.useTransform) {\n      if (!/relative|absolute/i.test(this.scrollerStyle.position)) {\n        this.scrollerStyle.position = \"relative\";\n      }\n    }\n\n    if (this.options.shrinkScrollbars == 'scale') {\n      this.options.useTransition = false;\n    }\n\n    this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1; // INSERT POINT: NORMALIZATION\n    // Some defaults\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this._events = {}; // INSERT POINT: DEFAULTS\n\n    this._init();\n\n    this.refresh();\n    this.scrollTo(this.options.startX, this.options.startY);\n    this.enable();\n  }\n\n  IScroll.prototype = {\n    version: '5.2.0',\n    _init: function _init() {\n      this._initEvents();\n\n      if (this.options.scrollbars || this.options.indicators) {\n        this._initIndicators();\n      }\n\n      if (this.options.mouseWheel) {\n        this._initWheel();\n      }\n\n      if (this.options.snap) {\n        this._initSnap();\n      }\n\n      if (this.options.keyBindings) {\n        this._initKeys();\n      } // INSERT POINT: _init\n\n    },\n    destroy: function destroy() {\n      this._initEvents(true);\n\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = null;\n\n      this._execEvent('destroy');\n    },\n    _transitionEnd: function _transitionEnd(e) {\n      if (e.target != this.scroller || !this.isInTransition) {\n        return;\n      }\n\n      this._transitionTime();\n\n      if (!this.resetPosition(this.options.bounceTime)) {\n        this.isInTransition = false;\n\n        this._execEvent('scrollEnd');\n      }\n    },\n    _start: function _start(e) {\n      // React to left mouse button only\n      if (utils.eventType[e.type] != 1) {\n        // for button property\n        // http://unixpapa.com/js/mouse.html\n        var button;\n\n        if (!e.which) {\n          /* IE case */\n          button = e.button < 2 ? 0 : e.button == 4 ? 1 : 2;\n        } else {\n          /* All others */\n          button = e.button;\n        }\n\n        if (button !== 0) {\n          return;\n        }\n      }\n\n      if (!this.enabled || this.initiated && utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n        e.preventDefault();\n      }\n\n      var point = e.touches ? e.touches[0] : e,\n          pos;\n      this.initiated = utils.eventType[e.type];\n      this.moved = false;\n      this.distX = 0;\n      this.distY = 0;\n      this.directionX = 0;\n      this.directionY = 0;\n      this.directionLocked = 0;\n      this.startTime = utils.getTime();\n\n      if (this.options.useTransition && this.isInTransition) {\n        this._transitionTime();\n\n        this.isInTransition = false;\n        pos = this.getComputedPosition();\n\n        this._translate(Math.round(pos.x), Math.round(pos.y));\n\n        this._execEvent('scrollEnd');\n      } else if (!this.options.useTransition && this.isAnimating) {\n        this.isAnimating = false;\n\n        this._execEvent('scrollEnd');\n      }\n\n      this.startX = this.x;\n      this.startY = this.y;\n      this.absStartX = this.x;\n      this.absStartY = this.y;\n      this.pointX = point.pageX;\n      this.pointY = point.pageY;\n\n      this._execEvent('beforeScrollStart');\n    },\n    _move: function _move(e) {\n      if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault) {\n        // increases performance on Android? TODO: check!\n        e.preventDefault();\n      }\n\n      var point = e.touches ? e.touches[0] : e,\n          deltaX = point.pageX - this.pointX,\n          deltaY = point.pageY - this.pointY,\n          timestamp = utils.getTime(),\n          newX,\n          newY,\n          absDistX,\n          absDistY;\n      this.pointX = point.pageX;\n      this.pointY = point.pageY;\n      this.distX += deltaX;\n      this.distY += deltaY;\n      absDistX = Math.abs(this.distX);\n      absDistY = Math.abs(this.distY); // We need to move at least 10 pixels for the scrolling to initiate\n\n      if (timestamp - this.endTime > 300 && absDistX < 10 && absDistY < 10) {\n        return;\n      } // If you are scrolling in one direction lock the other\n\n\n      if (!this.directionLocked && !this.options.freeScroll) {\n        if (absDistX > absDistY + this.options.directionLockThreshold) {\n          this.directionLocked = 'h'; // lock horizontally\n        } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n          this.directionLocked = 'v'; // lock vertically\n        } else {\n          this.directionLocked = 'n'; // no lock\n        }\n      }\n\n      if (this.directionLocked == 'h') {\n        if (this.options.eventPassthrough == 'vertical') {\n          e.preventDefault();\n        } else if (this.options.eventPassthrough == 'horizontal') {\n          this.initiated = false;\n          return;\n        }\n\n        deltaY = 0;\n      } else if (this.directionLocked == 'v') {\n        if (this.options.eventPassthrough == 'horizontal') {\n          e.preventDefault();\n        } else if (this.options.eventPassthrough == 'vertical') {\n          this.initiated = false;\n          return;\n        }\n\n        deltaX = 0;\n      }\n\n      deltaX = this.hasHorizontalScroll ? deltaX : 0;\n      deltaY = this.hasVerticalScroll ? deltaY : 0;\n      newX = this.x + deltaX;\n      newY = this.y + deltaY; // Slow down if outside of the boundaries\n\n      if (newX > 0 || newX < this.maxScrollX) {\n        newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n      }\n\n      if (newY > 0 || newY < this.maxScrollY) {\n        newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n      }\n\n      this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n      this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n      if (!this.moved) {\n        this._execEvent('scrollStart');\n      }\n\n      this.moved = true;\n\n      this._translate(newX, newY);\n      /* REPLACE START: _move */\n\n\n      if (timestamp - this.startTime > 300) {\n        this.startTime = timestamp;\n        this.startX = this.x;\n        this.startY = this.y;\n      }\n      /* REPLACE END: _move */\n\n    },\n    _end: function _end(e) {\n      if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n        e.preventDefault();\n      }\n\n      var point = e.changedTouches ? e.changedTouches[0] : e,\n          momentumX,\n          momentumY,\n          duration = utils.getTime() - this.startTime,\n          newX = Math.round(this.x),\n          newY = Math.round(this.y),\n          distanceX = Math.abs(newX - this.startX),\n          distanceY = Math.abs(newY - this.startY),\n          time = 0,\n          easing = '';\n      this.isInTransition = 0;\n      this.initiated = 0;\n      this.endTime = utils.getTime(); // reset if we are outside of the boundaries\n\n      if (this.resetPosition(this.options.bounceTime)) {\n        return;\n      }\n\n      this.scrollTo(newX, newY); // ensures that the last position is rounded\n      // we scrolled less than 10 pixels\n\n      if (!this.moved) {\n        if (this.options.tap) {\n          utils.tap(e, this.options.tap);\n        }\n\n        if (this.options.click) {\n          utils.click(e);\n        }\n\n        this._execEvent('scrollCancel');\n\n        return;\n      }\n\n      if (this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100) {\n        this._execEvent('flick');\n\n        return;\n      } // start momentum animation if needed\n\n\n      if (this.options.momentum && duration < 300) {\n        momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n          destination: newX,\n          duration: 0\n        };\n        momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n          destination: newY,\n          duration: 0\n        };\n        newX = momentumX.destination;\n        newY = momentumY.destination;\n        time = Math.max(momentumX.duration, momentumY.duration);\n        this.isInTransition = 1;\n      }\n\n      if (this.options.snap) {\n        var snap = this._nearestSnap(newX, newY);\n\n        this.currentPage = snap;\n        time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n        newX = snap.x;\n        newY = snap.y;\n        this.directionX = 0;\n        this.directionY = 0;\n        easing = this.options.bounceEasing;\n      } // INSERT POINT: _end\n\n\n      if (newX != this.x || newY != this.y) {\n        // change easing function when scroller goes out of the boundaries\n        if (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n          easing = utils.ease.quadratic;\n        }\n\n        this.scrollTo(newX, newY, time, easing);\n        return;\n      }\n\n      this._execEvent('scrollEnd');\n    },\n    _resize: function _resize() {\n      var that = this;\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = setTimeout(function () {\n        that.refresh();\n      }, this.options.resizePolling);\n    },\n    resetPosition: function resetPosition(time) {\n      var x = this.x,\n          y = this.y;\n      time = time || 0;\n\n      if (!this.hasHorizontalScroll || this.x > 0) {\n        x = 0;\n      } else if (this.x < this.maxScrollX) {\n        x = this.maxScrollX;\n      }\n\n      if (!this.hasVerticalScroll || this.y > 0) {\n        y = 0;\n      } else if (this.y < this.maxScrollY) {\n        y = this.maxScrollY;\n      }\n\n      if (x == this.x && y == this.y) {\n        return false;\n      }\n\n      this.scrollTo(x, y, time, this.options.bounceEasing);\n      return true;\n    },\n    disable: function disable() {\n      this.enabled = false;\n    },\n    enable: function enable() {\n      this.enabled = true;\n    },\n    refresh: function refresh() {\n      var rf = this.wrapper.offsetHeight; // Force reflow\n\n      this.wrapperWidth = this.wrapper.clientWidth;\n      this.wrapperHeight = this.wrapper.clientHeight;\n      /* REPLACE START: refresh */\n\n      this.scrollerWidth = this.scroller.offsetWidth;\n      this.scrollerHeight = this.scroller.offsetHeight;\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      /* REPLACE END: refresh */\n\n      this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n      this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\n      if (!this.hasHorizontalScroll) {\n        this.maxScrollX = 0;\n        this.scrollerWidth = this.wrapperWidth;\n      }\n\n      if (!this.hasVerticalScroll) {\n        this.maxScrollY = 0;\n        this.scrollerHeight = this.wrapperHeight;\n      }\n\n      this.endTime = 0;\n      this.directionX = 0;\n      this.directionY = 0;\n      this.wrapperOffset = utils.offset(this.wrapper);\n\n      this._execEvent('refresh');\n\n      this.resetPosition(); // INSERT POINT: _refresh\n    },\n    on: function on(type, fn) {\n      if (!this._events[type]) {\n        this._events[type] = [];\n      }\n\n      this._events[type].push(fn);\n    },\n    off: function off(type, fn) {\n      if (!this._events[type]) {\n        return;\n      }\n\n      var index = this._events[type].indexOf(fn);\n\n      if (index > -1) {\n        this._events[type].splice(index, 1);\n      }\n    },\n    _execEvent: function _execEvent(type) {\n      if (!this._events[type]) {\n        return;\n      }\n\n      var i = 0,\n          l = this._events[type].length;\n\n      if (!l) {\n        return;\n      }\n\n      for (; i < l; i++) {\n        this._events[type][i].apply(this, [].slice.call(arguments, 1));\n      }\n    },\n    scrollBy: function scrollBy(x, y, time, easing) {\n      x = this.x + x;\n      y = this.y + y;\n      time = time || 0;\n      this.scrollTo(x, y, time, easing);\n    },\n    scrollTo: function scrollTo(x, y, time, easing) {\n      easing = easing || utils.ease.circular;\n      this.isInTransition = this.options.useTransition && time > 0;\n      var transitionType = this.options.useTransition && easing.style;\n\n      if (!time || transitionType) {\n        if (transitionType) {\n          this._transitionTimingFunction(easing.style);\n\n          this._transitionTime(time);\n        }\n\n        this._translate(x, y);\n      } else {\n        this._animate(x, y, time, easing.fn);\n      }\n    },\n    scrollToElement: function scrollToElement(el, time, offsetX, offsetY, easing) {\n      el = el.nodeType ? el : this.scroller.querySelector(el);\n\n      if (!el) {\n        return;\n      }\n\n      var pos = utils.offset(el);\n      pos.left -= this.wrapperOffset.left;\n      pos.top -= this.wrapperOffset.top; // if offsetX/Y are true we center the element to the screen\n\n      if (offsetX === true) {\n        offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n      }\n\n      if (offsetY === true) {\n        offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n      }\n\n      pos.left -= offsetX || 0;\n      pos.top -= offsetY || 0;\n      pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n      pos.top = pos.top > 0 ? 0 : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n      time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x - pos.left), Math.abs(this.y - pos.top)) : time;\n      this.scrollTo(pos.left, pos.top, time, easing);\n    },\n    _transitionTime: function _transitionTime(time) {\n      if (!this.options.useTransition) {\n        return;\n      }\n\n      time = time || 0;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.scrollerStyle[durationProp] = time + 'ms';\n\n      if (!time && utils.isBadAndroid) {\n        this.scrollerStyle[durationProp] = '0.0001ms'; // remove 0.0001ms\n\n        var self = this;\n        rAF(function () {\n          if (self.scrollerStyle[durationProp] === '0.0001ms') {\n            self.scrollerStyle[durationProp] = '0s';\n          }\n        });\n      }\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].transitionTime(time);\n        }\n      } // INSERT POINT: _transitionTime\n\n    },\n    _transitionTimingFunction: function _transitionTimingFunction(easing) {\n      this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].transitionTimingFunction(easing);\n        }\n      } // INSERT POINT: _transitionTimingFunction\n\n    },\n    _translate: function _translate(x, y) {\n      if (this.options.useTransform) {\n        /* REPLACE START: _translate */\n        this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n        /* REPLACE END: _translate */\n      } else {\n        x = Math.round(x);\n        y = Math.round(y);\n        this.scrollerStyle.left = x + 'px';\n        this.scrollerStyle.top = y + 'px';\n      }\n\n      this.x = x;\n      this.y = y;\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].updatePosition();\n        }\n      } // INSERT POINT: _translate\n\n    },\n    _initEvents: function _initEvents(remove) {\n      var eventType = remove ? utils.removeEvent : utils.addEvent,\n          target = this.options.bindToWrapper ? this.wrapper : window;\n      eventType(window, 'orientationchange', this);\n      eventType(window, 'resize', this);\n\n      if (this.options.click) {\n        eventType(this.wrapper, 'click', this, true);\n      }\n\n      if (!this.options.disableMouse) {\n        eventType(this.wrapper, 'mousedown', this);\n        eventType(target, 'mousemove', this);\n        eventType(target, 'mousecancel', this);\n        eventType(target, 'mouseup', this);\n      }\n\n      if (utils.hasPointer && !this.options.disablePointer) {\n        eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n        eventType(target, utils.prefixPointerEvent('pointermove'), this);\n        eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n        eventType(target, utils.prefixPointerEvent('pointerup'), this);\n      }\n\n      if (utils.hasTouch && !this.options.disableTouch) {\n        eventType(this.wrapper, 'touchstart', this);\n        eventType(target, 'touchmove', this);\n        eventType(target, 'touchcancel', this);\n        eventType(target, 'touchend', this);\n      }\n\n      eventType(this.scroller, 'transitionend', this);\n      eventType(this.scroller, 'webkitTransitionEnd', this);\n      eventType(this.scroller, 'oTransitionEnd', this);\n      eventType(this.scroller, 'MSTransitionEnd', this);\n    },\n    getComputedPosition: function getComputedPosition() {\n      var matrix = window.getComputedStyle(this.scroller, null),\n          x,\n          y;\n\n      if (this.options.useTransform) {\n        matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n        x = +(matrix[12] || matrix[4]);\n        y = +(matrix[13] || matrix[5]);\n      } else {\n        x = +matrix.left.replace(/[^-\\d.]/g, '');\n        y = +matrix.top.replace(/[^-\\d.]/g, '');\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    },\n    _initIndicators: function _initIndicators() {\n      var interactive = this.options.interactiveScrollbars,\n          customStyle = typeof this.options.scrollbars != 'string',\n          indicators = [],\n          indicator;\n      var that = this;\n      this.indicators = [];\n\n      if (this.options.scrollbars) {\n        // Vertical scrollbar\n        if (this.options.scrollY) {\n          indicator = {\n            el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n            interactive: interactive,\n            defaultScrollbars: true,\n            customStyle: customStyle,\n            resize: this.options.resizeScrollbars,\n            shrink: this.options.shrinkScrollbars,\n            fade: this.options.fadeScrollbars,\n            listenX: false\n          };\n          this.wrapper.appendChild(indicator.el);\n          indicators.push(indicator);\n        } // Horizontal scrollbar\n\n\n        if (this.options.scrollX) {\n          indicator = {\n            el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n            interactive: interactive,\n            defaultScrollbars: true,\n            customStyle: customStyle,\n            resize: this.options.resizeScrollbars,\n            shrink: this.options.shrinkScrollbars,\n            fade: this.options.fadeScrollbars,\n            listenY: false\n          };\n          this.wrapper.appendChild(indicator.el);\n          indicators.push(indicator);\n        }\n      }\n\n      if (this.options.indicators) {\n        // TODO: check concat compatibility\n        indicators = indicators.concat(this.options.indicators);\n      }\n\n      for (var i = indicators.length; i--;) {\n        this.indicators.push(new Indicator(this, indicators[i]));\n      } // TODO: check if we can use array.map (wide compatibility and performance issues)\n\n\n      function _indicatorsMap(fn) {\n        if (that.indicators) {\n          for (var i = that.indicators.length; i--;) {\n            fn.call(that.indicators[i]);\n          }\n        }\n      }\n\n      if (this.options.fadeScrollbars) {\n        this.on('scrollEnd', function () {\n          _indicatorsMap(function () {\n            this.fade();\n          });\n        });\n        this.on('scrollCancel', function () {\n          _indicatorsMap(function () {\n            this.fade();\n          });\n        });\n        this.on('scrollStart', function () {\n          _indicatorsMap(function () {\n            this.fade(1);\n          });\n        });\n        this.on('beforeScrollStart', function () {\n          _indicatorsMap(function () {\n            this.fade(1, true);\n          });\n        });\n      }\n\n      this.on('refresh', function () {\n        _indicatorsMap(function () {\n          this.refresh();\n        });\n      });\n      this.on('destroy', function () {\n        _indicatorsMap(function () {\n          this.destroy();\n        });\n\n        delete this.indicators;\n      });\n    },\n    _initWheel: function _initWheel() {\n      utils.addEvent(this.wrapper, 'wheel', this);\n      utils.addEvent(this.wrapper, 'mousewheel', this);\n      utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n      this.on('destroy', function () {\n        clearTimeout(this.wheelTimeout);\n        this.wheelTimeout = null;\n        utils.removeEvent(this.wrapper, 'wheel', this);\n        utils.removeEvent(this.wrapper, 'mousewheel', this);\n        utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n      });\n    },\n    _wheel: function _wheel(e) {\n      if (!this.enabled) {\n        return;\n      } // in IE we can not preventDefault() or otherwise it won't scroll to the prev/next section.\n      // I commented on it here back then: https://github.com/cubiq/iscroll/issues/980\n      // isIE taken from: https://stackoverflow.com/a/49986758/1081396\n\n\n      var isIE = window.navigator.userAgent.match(/(MSIE|Trident)/);\n\n      if (!isIE) {\n        e.preventDefault();\n      }\n\n      var wheelDeltaX,\n          wheelDeltaY,\n          newX,\n          newY,\n          that = this;\n\n      if (this.wheelTimeout === undefined) {\n        that._execEvent('scrollStart');\n      } // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n\n\n      clearTimeout(this.wheelTimeout);\n      this.wheelTimeout = setTimeout(function () {\n        if (!that.options.snap) {\n          that._execEvent('scrollEnd');\n        }\n\n        that.wheelTimeout = undefined;\n      }, 400);\n\n      if ('deltaX' in e) {\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n          wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n      } else if ('wheelDeltaX' in e) {\n        wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n        wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n      } else if ('wheelDelta' in e) {\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n      } else if ('detail' in e) {\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n      } else {\n        return;\n      }\n\n      wheelDeltaX *= this.options.invertWheelDirection;\n      wheelDeltaY *= this.options.invertWheelDirection;\n\n      if (!this.hasVerticalScroll) {\n        wheelDeltaX = wheelDeltaY;\n        wheelDeltaY = 0;\n      }\n\n      if (this.options.snap) {\n        newX = this.currentPage.pageX;\n        newY = this.currentPage.pageY;\n\n        if (wheelDeltaX > 0) {\n          newX--;\n        } else if (wheelDeltaX < 0) {\n          newX++;\n        }\n\n        if (wheelDeltaY > 0) {\n          newY--;\n        } else if (wheelDeltaY < 0) {\n          newY++;\n        }\n\n        this.goToPage(newX, newY);\n        return;\n      }\n\n      newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n      newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n      this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n      this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n      if (newX > 0) {\n        newX = 0;\n      } else if (newX < this.maxScrollX) {\n        newX = this.maxScrollX;\n      }\n\n      if (newY > 0) {\n        newY = 0;\n      } else if (newY < this.maxScrollY) {\n        newY = this.maxScrollY;\n      }\n\n      this.scrollTo(newX, newY, 0); // INSERT POINT: _wheel\n    },\n    _initSnap: function _initSnap() {\n      this.currentPage = {};\n\n      if (typeof this.options.snap == 'string') {\n        this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n      }\n\n      this.on('refresh', function () {\n        var i = 0,\n            l,\n            m = 0,\n            n,\n            cx,\n            cy,\n            x = 0,\n            y,\n            stepX = this.options.snapStepX || this.wrapperWidth,\n            stepY = this.options.snapStepY || this.wrapperHeight,\n            el;\n        this.pages = [];\n\n        if (!this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight) {\n          return;\n        }\n\n        if (this.options.snap === true) {\n          cx = Math.round(stepX / 2);\n          cy = Math.round(stepY / 2);\n\n          while (x > -this.scrollerWidth) {\n            this.pages[i] = [];\n            l = 0;\n            y = 0;\n\n            while (y > -this.scrollerHeight) {\n              this.pages[i][l] = {\n                x: Math.max(x, this.maxScrollX),\n                y: Math.max(y, this.maxScrollY),\n                width: stepX,\n                height: stepY,\n                cx: x - cx,\n                cy: y - cy\n              };\n              y -= stepY;\n              l++;\n            }\n\n            x -= stepX;\n            i++;\n          }\n        } else {\n          el = this.options.snap;\n          l = el.length;\n          n = -1;\n\n          for (; i < l; i++) {\n            if (i === 0 || el[i].offsetLeft <= el[i - 1].offsetLeft) {\n              m = 0;\n              n++;\n            }\n\n            if (!this.pages[m]) {\n              this.pages[m] = [];\n            }\n\n            x = Math.max(-el[i].offsetLeft, this.maxScrollX);\n            y = Math.max(-el[i].offsetTop, this.maxScrollY);\n            cx = x - Math.round(el[i].offsetWidth / 2);\n            cy = y - Math.round(el[i].offsetHeight / 2);\n            this.pages[m][n] = {\n              x: x,\n              y: y,\n              width: el[i].offsetWidth,\n              height: el[i].offsetHeight,\n              cx: cx,\n              cy: cy\n            };\n\n            if (x > this.maxScrollX) {\n              m++;\n            }\n          }\n        }\n\n        this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0); // Update snap threshold if needed\n\n        if (this.options.snapThreshold % 1 === 0) {\n          this.snapThresholdX = this.options.snapThreshold;\n          this.snapThresholdY = this.options.snapThreshold;\n        } else {\n          this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n          this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n        }\n      });\n      this.on('flick', function () {\n        var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.x - this.startX), 1000), Math.min(Math.abs(this.y - this.startY), 1000)), 300);\n        this.goToPage(this.currentPage.pageX + this.directionX, this.currentPage.pageY + this.directionY, time);\n      });\n    },\n    _nearestSnap: function _nearestSnap(x, y) {\n      if (!this.pages.length) {\n        return {\n          x: 0,\n          y: 0,\n          pageX: 0,\n          pageY: 0\n        };\n      }\n\n      var i = 0,\n          l = this.pages.length,\n          m = 0; // Check if we exceeded the snap threshold\n\n      if (Math.abs(x - this.absStartX) < this.snapThresholdX && Math.abs(y - this.absStartY) < this.snapThresholdY) {\n        return this.currentPage;\n      }\n\n      if (x > 0) {\n        x = 0;\n      } else if (x < this.maxScrollX) {\n        x = this.maxScrollX;\n      }\n\n      if (y > 0) {\n        y = 0;\n      } else if (y < this.maxScrollY) {\n        y = this.maxScrollY;\n      }\n\n      for (; i < l; i++) {\n        if (x >= this.pages[i][0].cx) {\n          x = this.pages[i][0].x;\n          break;\n        }\n      }\n\n      l = this.pages[i].length;\n\n      for (; m < l; m++) {\n        if (y >= this.pages[0][m].cy) {\n          y = this.pages[0][m].y;\n          break;\n        }\n      }\n\n      if (i == this.currentPage.pageX) {\n        i += this.directionX;\n\n        if (i < 0) {\n          i = 0;\n        } else if (i >= this.pages.length) {\n          i = this.pages.length - 1;\n        }\n\n        x = this.pages[i][0].x;\n      }\n\n      if (m == this.currentPage.pageY) {\n        m += this.directionY;\n\n        if (m < 0) {\n          m = 0;\n        } else if (m >= this.pages[0].length) {\n          m = this.pages[0].length - 1;\n        }\n\n        y = this.pages[0][m].y;\n      }\n\n      return {\n        x: x,\n        y: y,\n        pageX: i,\n        pageY: m\n      };\n    },\n    goToPage: function goToPage(x, y, time, easing) {\n      easing = easing || this.options.bounceEasing;\n\n      if (x >= this.pages.length) {\n        x = this.pages.length - 1;\n      } else if (x < 0) {\n        x = 0;\n      }\n\n      if (y >= this.pages[x].length) {\n        y = this.pages[x].length - 1;\n      } else if (y < 0) {\n        y = 0;\n      }\n\n      var posX = this.pages[x][y].x,\n          posY = this.pages[x][y].y;\n      time = time === undefined ? this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n      this.currentPage = {\n        x: posX,\n        y: posY,\n        pageX: x,\n        pageY: y\n      };\n      this.scrollTo(posX, posY, time, easing);\n    },\n    next: function next(time, easing) {\n      var x = this.currentPage.pageX,\n          y = this.currentPage.pageY;\n      x++;\n\n      if (x >= this.pages.length && this.hasVerticalScroll) {\n        x = 0;\n        y++;\n      }\n\n      this.goToPage(x, y, time, easing);\n    },\n    prev: function prev(time, easing) {\n      var x = this.currentPage.pageX,\n          y = this.currentPage.pageY;\n      x--;\n\n      if (x < 0 && this.hasVerticalScroll) {\n        x = 0;\n        y--;\n      }\n\n      this.goToPage(x, y, time, easing);\n    },\n    _initKeys: function _initKeys(e) {\n      // default key bindings\n      var keys = {\n        pageUp: 33,\n        pageDown: 34,\n        end: 35,\n        home: 36,\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40\n      };\n      var i; // if you give me characters I give you keycode\n\n      if (typeof this.options.keyBindings == 'object') {\n        for (i in this.options.keyBindings) {\n          if (typeof this.options.keyBindings[i] == 'string') {\n            this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n          }\n        }\n      } else {\n        this.options.keyBindings = {};\n      }\n\n      for (i in keys) {\n        this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n      }\n\n      utils.addEvent(window, 'keydown', this);\n      this.on('destroy', function () {\n        utils.removeEvent(window, 'keydown', this);\n      });\n    },\n    _key: function _key(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      var snap = this.options.snap,\n          // we are using this alot, better to cache it\n      newX = snap ? this.currentPage.pageX : this.x,\n          newY = snap ? this.currentPage.pageY : this.y,\n          now = utils.getTime(),\n          prevTime = this.keyTime || 0,\n          acceleration = 0.250,\n          pos;\n\n      if (this.options.useTransition && this.isInTransition) {\n        pos = this.getComputedPosition();\n\n        this._translate(Math.round(pos.x), Math.round(pos.y));\n\n        this.isInTransition = false;\n      }\n\n      this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n      switch (e.keyCode) {\n        case this.options.keyBindings.pageUp:\n          if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n            newX += snap ? 1 : this.wrapperWidth;\n          } else {\n            newY += snap ? 1 : this.wrapperHeight;\n          }\n\n          break;\n\n        case this.options.keyBindings.pageDown:\n          if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n            newX -= snap ? 1 : this.wrapperWidth;\n          } else {\n            newY -= snap ? 1 : this.wrapperHeight;\n          }\n\n          break;\n\n        case this.options.keyBindings.end:\n          newX = snap ? this.pages.length - 1 : this.maxScrollX;\n          newY = snap ? this.pages[0].length - 1 : this.maxScrollY;\n          break;\n\n        case this.options.keyBindings.home:\n          newX = 0;\n          newY = 0;\n          break;\n\n        case this.options.keyBindings.left:\n          newX += snap ? -1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.up:\n          newY += snap ? 1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.right:\n          newX -= snap ? -1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.down:\n          newY -= snap ? 1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        default:\n          return;\n      }\n\n      if (snap) {\n        this.goToPage(newX, newY);\n        return;\n      }\n\n      if (newX > 0) {\n        newX = 0;\n        this.keyAcceleration = 0;\n      } else if (newX < this.maxScrollX) {\n        newX = this.maxScrollX;\n        this.keyAcceleration = 0;\n      }\n\n      if (newY > 0) {\n        newY = 0;\n        this.keyAcceleration = 0;\n      } else if (newY < this.maxScrollY) {\n        newY = this.maxScrollY;\n        this.keyAcceleration = 0;\n      }\n\n      this.scrollTo(newX, newY, 0);\n      this.keyTime = now;\n    },\n    _animate: function _animate(destX, destY, duration, easingFn) {\n      var that = this,\n          startX = this.x,\n          startY = this.y,\n          startTime = utils.getTime(),\n          destTime = startTime + duration;\n\n      function step() {\n        var now = utils.getTime(),\n            newX,\n            newY,\n            easing;\n\n        if (now >= destTime) {\n          that.isAnimating = false;\n\n          that._translate(destX, destY);\n\n          if (!that.resetPosition(that.options.bounceTime)) {\n            that._execEvent('scrollEnd');\n          }\n\n          return;\n        }\n\n        now = (now - startTime) / duration;\n        easing = easingFn(now);\n        newX = (destX - startX) * easing + startX;\n        newY = (destY - startY) * easing + startY;\n\n        that._translate(newX, newY);\n\n        if (that.isAnimating) {\n          rAF(step);\n        }\n      }\n\n      this.isAnimating = true;\n      step();\n    },\n    handleEvent: function handleEvent(e) {\n      switch (e.type) {\n        case 'touchstart':\n        case 'pointerdown':\n        case 'MSPointerDown':\n        case 'mousedown':\n          this._start(e);\n\n          break;\n\n        case 'touchmove':\n        case 'pointermove':\n        case 'MSPointerMove':\n        case 'mousemove':\n          this._move(e);\n\n          break;\n\n        case 'touchend':\n        case 'pointerup':\n        case 'MSPointerUp':\n        case 'mouseup':\n        case 'touchcancel':\n        case 'pointercancel':\n        case 'MSPointerCancel':\n        case 'mousecancel':\n          this._end(e);\n\n          break;\n\n        case 'orientationchange':\n        case 'resize':\n          this._resize();\n\n          break;\n\n        case 'transitionend':\n        case 'webkitTransitionEnd':\n        case 'oTransitionEnd':\n        case 'MSTransitionEnd':\n          this._transitionEnd(e);\n\n          break;\n\n        case 'wheel':\n        case 'DOMMouseScroll':\n        case 'mousewheel':\n          this._wheel(e);\n\n          break;\n\n        case 'keydown':\n          this._key(e);\n\n          break;\n\n        case 'click':\n          if (this.enabled && !e._constructed) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          break;\n      }\n    }\n  };\n\n  function createDefaultScrollbar(direction, interactive, type) {\n    var scrollbar = document.createElement('div'),\n        indicator = document.createElement('div');\n\n    if (type === true) {\n      scrollbar.style.cssText = 'position:absolute;z-index:9999';\n      indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n    }\n\n    indicator.className = 'iScrollIndicator';\n\n    if (direction == 'h') {\n      if (type === true) {\n        scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n        indicator.style.height = '100%';\n      }\n\n      scrollbar.className = 'iScrollHorizontalScrollbar';\n    } else {\n      if (type === true) {\n        scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n        indicator.style.width = '100%';\n      }\n\n      scrollbar.className = 'iScrollVerticalScrollbar';\n    }\n\n    scrollbar.style.cssText += ';overflow:hidden';\n\n    if (!interactive) {\n      scrollbar.style.pointerEvents = 'none';\n    }\n\n    scrollbar.appendChild(indicator);\n    return scrollbar;\n  }\n\n  function Indicator(scroller, options) {\n    this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n    this.wrapperStyle = this.wrapper.style;\n    this.indicator = this.wrapper.children[0];\n    this.indicatorStyle = this.indicator.style;\n    this.scroller = scroller;\n    this.options = {\n      listenX: true,\n      listenY: true,\n      interactive: false,\n      resize: true,\n      defaultScrollbars: false,\n      shrink: false,\n      fade: false,\n      speedRatioX: 0,\n      speedRatioY: 0\n    };\n\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n\n    this.sizeRatioX = 1;\n    this.sizeRatioY = 1;\n    this.maxPosX = 0;\n    this.maxPosY = 0;\n\n    if (this.options.interactive) {\n      if (!this.options.disableTouch) {\n        utils.addEvent(this.indicator, 'touchstart', this);\n        utils.addEvent(window, 'touchend', this);\n      }\n\n      if (!this.options.disablePointer) {\n        utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n        utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n      }\n\n      if (!this.options.disableMouse) {\n        utils.addEvent(this.indicator, 'mousedown', this);\n        utils.addEvent(window, 'mouseup', this);\n      }\n    }\n\n    if (this.options.fade) {\n      this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms'; // remove 0.0001ms\n\n      var self = this;\n\n      if (utils.isBadAndroid) {\n        rAF(function () {\n          if (self.wrapperStyle[durationProp] === '0.0001ms') {\n            self.wrapperStyle[durationProp] = '0s';\n          }\n        });\n      }\n\n      this.wrapperStyle.opacity = '0';\n    }\n  }\n\n  Indicator.prototype = {\n    handleEvent: function handleEvent(e) {\n      switch (e.type) {\n        case 'touchstart':\n        case 'pointerdown':\n        case 'MSPointerDown':\n        case 'mousedown':\n          this._start(e);\n\n          break;\n\n        case 'touchmove':\n        case 'pointermove':\n        case 'MSPointerMove':\n        case 'mousemove':\n          this._move(e);\n\n          break;\n\n        case 'touchend':\n        case 'pointerup':\n        case 'MSPointerUp':\n        case 'mouseup':\n        case 'touchcancel':\n        case 'pointercancel':\n        case 'MSPointerCancel':\n        case 'mousecancel':\n          this._end(e);\n\n          break;\n      }\n    },\n    destroy: function destroy() {\n      if (this.options.fadeScrollbars) {\n        clearTimeout(this.fadeTimeout);\n        this.fadeTimeout = null;\n      }\n\n      if (this.options.interactive) {\n        utils.removeEvent(this.indicator, 'touchstart', this);\n        utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n        utils.removeEvent(this.indicator, 'mousedown', this);\n        utils.removeEvent(window, 'touchmove', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        utils.removeEvent(window, 'mousemove', this);\n        utils.removeEvent(window, 'touchend', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n        utils.removeEvent(window, 'mouseup', this);\n      }\n\n      if (this.options.defaultScrollbars) {\n        this.wrapper.parentNode.removeChild(this.wrapper);\n      }\n    },\n    _start: function _start(e) {\n      var point = e.touches ? e.touches[0] : e;\n      e.preventDefault();\n      e.stopPropagation();\n      this.transitionTime();\n      this.initiated = true;\n      this.moved = false;\n      this.lastPointX = point.pageX;\n      this.lastPointY = point.pageY;\n      this.startTime = utils.getTime();\n\n      if (!this.options.disableTouch) {\n        utils.addEvent(window, 'touchmove', this);\n      }\n\n      if (!this.options.disablePointer) {\n        utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n      }\n\n      if (!this.options.disableMouse) {\n        utils.addEvent(window, 'mousemove', this);\n      }\n\n      this.scroller._execEvent('beforeScrollStart');\n    },\n    _move: function _move(e) {\n      var point = e.touches ? e.touches[0] : e,\n          deltaX,\n          deltaY,\n          newX,\n          newY,\n          timestamp = utils.getTime();\n\n      if (!this.moved) {\n        this.scroller._execEvent('scrollStart');\n      }\n\n      this.moved = true;\n      deltaX = point.pageX - this.lastPointX;\n      this.lastPointX = point.pageX;\n      deltaY = point.pageY - this.lastPointY;\n      this.lastPointY = point.pageY;\n      newX = this.x + deltaX;\n      newY = this.y + deltaY;\n\n      this._pos(newX, newY); // INSERT POINT: indicator._move\n\n\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    _end: function _end(e) {\n      if (!this.initiated) {\n        return;\n      }\n\n      this.initiated = false;\n      e.preventDefault();\n      e.stopPropagation();\n      utils.removeEvent(window, 'touchmove', this);\n      utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n      utils.removeEvent(window, 'mousemove', this);\n\n      if (this.scroller.options.snap) {\n        var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n        var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n        if (this.scroller.x != snap.x || this.scroller.y != snap.y) {\n          this.scroller.directionX = 0;\n          this.scroller.directionY = 0;\n          this.scroller.currentPage = snap;\n          this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n        }\n      }\n\n      if (this.moved) {\n        this.scroller._execEvent('scrollEnd');\n      }\n    },\n    transitionTime: function transitionTime(time) {\n      time = time || 0;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.indicatorStyle[durationProp] = time + 'ms';\n\n      if (!time && utils.isBadAndroid) {\n        this.indicatorStyle[durationProp] = '0.0001ms'; // remove 0.0001ms\n\n        var self = this;\n        rAF(function () {\n          if (self.indicatorStyle[durationProp] === '0.0001ms') {\n            self.indicatorStyle[durationProp] = '0s';\n          }\n        });\n      }\n    },\n    transitionTimingFunction: function transitionTimingFunction(easing) {\n      this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n    },\n    refresh: function refresh() {\n      this.transitionTime();\n\n      if (this.options.listenX && !this.options.listenY) {\n        this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n      } else if (this.options.listenY && !this.options.listenX) {\n        this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n      } else {\n        this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n      }\n\n      if (this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll) {\n        utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n        utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n        if (this.options.defaultScrollbars && this.options.customStyle) {\n          if (this.options.listenX) {\n            this.wrapper.style.right = '8px';\n          } else {\n            this.wrapper.style.bottom = '8px';\n          }\n        }\n      } else {\n        utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n        utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n        if (this.options.defaultScrollbars && this.options.customStyle) {\n          if (this.options.listenX) {\n            this.wrapper.style.right = '2px';\n          } else {\n            this.wrapper.style.bottom = '2px';\n          }\n        }\n      }\n\n      var r = this.wrapper.offsetHeight; // force refresh\n\n      if (this.options.listenX) {\n        this.wrapperWidth = this.wrapper.clientWidth;\n\n        if (this.options.resize) {\n          this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n          this.indicatorStyle.width = this.indicatorWidth + 'px';\n        } else {\n          this.indicatorWidth = this.indicator.clientWidth;\n        }\n\n        this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n        if (this.options.shrink == 'clip') {\n          this.minBoundaryX = -this.indicatorWidth + 8;\n          this.maxBoundaryX = this.wrapperWidth - 8;\n        } else {\n          this.minBoundaryX = 0;\n          this.maxBoundaryX = this.maxPosX;\n        }\n\n        this.sizeRatioX = this.options.speedRatioX || this.scroller.maxScrollX && this.maxPosX / this.scroller.maxScrollX;\n      }\n\n      if (this.options.listenY) {\n        this.wrapperHeight = this.wrapper.clientHeight;\n\n        if (this.options.resize) {\n          this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n          this.indicatorStyle.height = this.indicatorHeight + 'px';\n        } else {\n          this.indicatorHeight = this.indicator.clientHeight;\n        }\n\n        this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n        if (this.options.shrink == 'clip') {\n          this.minBoundaryY = -this.indicatorHeight + 8;\n          this.maxBoundaryY = this.wrapperHeight - 8;\n        } else {\n          this.minBoundaryY = 0;\n          this.maxBoundaryY = this.maxPosY;\n        }\n\n        this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n        this.sizeRatioY = this.options.speedRatioY || this.scroller.maxScrollY && this.maxPosY / this.scroller.maxScrollY;\n      }\n\n      this.updatePosition();\n    },\n    updatePosition: function updatePosition() {\n      var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n          y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n      if (!this.options.ignoreBoundaries) {\n        if (x < this.minBoundaryX) {\n          if (this.options.shrink == 'scale') {\n            this.width = Math.max(this.indicatorWidth + x, 8);\n            this.indicatorStyle.width = this.width + 'px';\n          }\n\n          x = this.minBoundaryX;\n        } else if (x > this.maxBoundaryX) {\n          if (this.options.shrink == 'scale') {\n            this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n            this.indicatorStyle.width = this.width + 'px';\n            x = this.maxPosX + this.indicatorWidth - this.width;\n          } else {\n            x = this.maxBoundaryX;\n          }\n        } else if (this.options.shrink == 'scale' && this.width != this.indicatorWidth) {\n          this.width = this.indicatorWidth;\n          this.indicatorStyle.width = this.width + 'px';\n        }\n\n        if (y < this.minBoundaryY) {\n          if (this.options.shrink == 'scale') {\n            this.height = Math.max(this.indicatorHeight + y * 3, 8);\n            this.indicatorStyle.height = this.height + 'px';\n          }\n\n          y = this.minBoundaryY;\n        } else if (y > this.maxBoundaryY) {\n          if (this.options.shrink == 'scale') {\n            this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n            this.indicatorStyle.height = this.height + 'px';\n            y = this.maxPosY + this.indicatorHeight - this.height;\n          } else {\n            y = this.maxBoundaryY;\n          }\n        } else if (this.options.shrink == 'scale' && this.height != this.indicatorHeight) {\n          this.height = this.indicatorHeight;\n          this.indicatorStyle.height = this.height + 'px';\n        }\n      }\n\n      this.x = x;\n      this.y = y;\n\n      if (this.scroller.options.useTransform) {\n        this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n      } else {\n        this.indicatorStyle.left = x + 'px';\n        this.indicatorStyle.top = y + 'px';\n      }\n    },\n    _pos: function _pos(x, y) {\n      if (x < 0) {\n        x = 0;\n      } else if (x > this.maxPosX) {\n        x = this.maxPosX;\n      }\n\n      if (y < 0) {\n        y = 0;\n      } else if (y > this.maxPosY) {\n        y = this.maxPosY;\n      }\n\n      x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n      y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n      this.scroller.scrollTo(x, y);\n    },\n    fade: function fade(val, hold) {\n      if (hold && !this.visible) {\n        return;\n      }\n\n      clearTimeout(this.fadeTimeout);\n      this.fadeTimeout = null;\n      var time = val ? 250 : 500,\n          delay = val ? 0 : 300;\n      val = val ? '1' : '0';\n      this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n      this.fadeTimeout = setTimeout(function (val) {\n        this.wrapperStyle.opacity = val;\n        this.visible = +val;\n      }.bind(this, val), delay);\n    }\n  };\n  IScroll.utils = utils;\n\n  if (typeof module != 'undefined' && module.exports) {\n    module.exports = IScroll;\n  } else if (typeof define == 'function' && define.amd) {\n    define(function () {\n      return IScroll;\n    }); //making sure scrollOverflow works when using Require.js\n    //in the browser\n\n    if (typeof window !== 'undefined') {\n      window.IScroll = IScroll;\n    }\n  } else {\n    window.IScroll = IScroll;\n  }\n})(window, document, Math);\n/*!\n* Scrolloverflow 2.0.6 module for fullPage.js >= 3\n* https://github.com/alvarotrigo/fullPage.js\n* @license MIT licensed\n*\n* Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo\n*/\n\n\n(function (window, document) {\n  window.fp_scrolloverflow = function () {\n    // check if IScroll is available in global scope\n    if (!window.IScroll) {\n      // otherwise create local one from module.exports\n      window.IScroll = module.exports;\n    } // keeping central set of classnames and selectors\n\n\n    var SCROLLABLE = 'fp-scrollable';\n    var SCROLLABLE_SEL = '.' + SCROLLABLE;\n    var ACTIVE = 'active';\n    var ACTIVE_SEL = '.' + ACTIVE;\n    var SECTION = 'fp-section';\n    var SECTION_SEL = '.' + SECTION;\n    var SECTION_ACTIVE_SEL = SECTION_SEL + ACTIVE_SEL;\n    var SLIDE = 'fp-slide';\n    var SLIDE_SEL = '.' + SLIDE;\n    var SLIDE_ACTIVE_SEL = SLIDE_SEL + ACTIVE_SEL;\n    var SLIDES_WRAPPER = 'fp-slides';\n    var SLIDES_WRAPPER_SEL = '.' + SLIDES_WRAPPER;\n    var TABLE_CELL = 'fp-tableCell';\n    var TABLE_CELL_SEL = '.' + TABLE_CELL;\n    var RESPONSIVE = 'fp-responsive';\n    var AUTO_HEIGHT_RESPONSIVE = 'fp-auto-height-responsive';\n    /*\n    * Turns iScroll `mousewheel` option off dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n    IScroll.prototype.wheelOn = function () {\n      this.wrapper.addEventListener('wheel', this);\n      this.wrapper.addEventListener('mousewheel', this);\n      this.wrapper.addEventListener('DOMMouseScroll', this);\n    };\n    /*\n    * Turns iScroll `mousewheel` option on dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n\n    IScroll.prototype.wheelOff = function () {\n      this.wrapper.removeEventListener('wheel', this);\n      this.wrapper.removeEventListener('mousewheel', this);\n      this.wrapper.removeEventListener('DOMMouseScroll', this);\n    };\n    /**\n    * Returns an integer representing the padding dimensions in px.\n    */\n\n\n    function getPaddings(element) {\n      var section = fp_utils.closest(element, SECTION_SEL);\n\n      if (section != null) {\n        return parseInt(getComputedStyle(section)['padding-bottom']) + parseInt(getComputedStyle(section)['padding-top']);\n      }\n\n      return 0;\n    }\n\n    function scrollBarHandler() {\n      var self = this;\n      self.options = null;\n\n      self.init = function (options, iscrollOptions) {\n        self.options = options;\n        self.iscrollOptions = iscrollOptions;\n\n        if (document.readyState === 'complete') {\n          createScrollBarForAll();\n          fullpage_api.shared.afterRenderActions();\n        } //after DOM and images are loaded\n\n\n        window.addEventListener('load', function () {\n          createScrollBarForAll();\n          fullpage_api.shared.afterRenderActions();\n        });\n        return self;\n      };\n      /**\n      * Creates the scrollbar for the sections and slides in the site\n      */\n\n\n      function createScrollBarForAll() {\n        if (fp_utils.hasClass(document.body, RESPONSIVE)) {\n          forEachSectionAndSlide(removeScrollBar);\n        } else {\n          forEachSectionAndSlide(createScrollBar);\n        }\n      }\n      /**\n      * Checks if the element needs scrollbar and if the user wants to apply it.\n      * If so it creates it.\n      *\n      * @param {Object} element   jQuery object of the section or slide\n      */\n\n\n      function createScrollBar(element) {\n        //User doesn't want scrollbar here? Sayonara baby!\n        if (fp_utils.hasClass(element, 'fp-noscroll')) return; //necessary to make `scrollHeight` work under Opera 12\n\n        fp_utils.css(element, {\n          'overflow': 'hidden'\n        });\n        var scrollOverflowHandler = self.options.scrollOverflowHandler;\n        var wrap = scrollOverflowHandler.wrapContent();\n        var section = fp_utils.closest(element, SECTION_SEL); //in case element is a slide\n\n        var scrollable = scrollOverflowHandler.scrollable(element);\n        var contentHeight;\n        var paddings = getPaddings(section); //if there was scroll, the contentHeight will be the one in the scrollable section\n\n        if (scrollable != null) {\n          contentHeight = scrollOverflowHandler.scrollHeight(element);\n        } else {\n          contentHeight = element.scrollHeight;\n\n          if (self.options.verticalCentered) {\n            contentHeight = $(TABLE_CELL_SEL, element)[0].scrollHeight;\n          }\n        }\n\n        var scrollHeight = fp_utils.getWindowHeight();\n        var contentHeightWidthPaddings = contentHeight + paddings;\n        var scrollHeightWidthoutPaddings = scrollHeight - paddings; //needs scroll?\n\n        if (contentHeightWidthPaddings > scrollHeight) {\n          //did we already have an scrollbar ? Updating it\n          if (scrollable != null) {\n            scrollOverflowHandler.update(element, scrollHeightWidthoutPaddings);\n          } //creating the scrolling\n          else {\n              if (self.options.verticalCentered) {\n                fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scroller);\n                fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scrollable);\n              } else {\n                fp_utils.wrapInner(element, wrap.scroller);\n                fp_utils.wrapInner(element, wrap.scrollable);\n              }\n\n              scrollOverflowHandler.create(element, scrollHeightWidthoutPaddings, self.iscrollOptions);\n            }\n        } //removing the scrolling when it is not necessary anymore\n        else {\n            scrollOverflowHandler.remove(element);\n          } //undo\n\n\n        fp_utils.css(element, {\n          'overflow': ''\n        });\n      }\n      /**\n      * Applies a callback function to each section in the site\n      * or the slides within them\n      */\n\n\n      function forEachSectionAndSlide(callback) {\n        $(SECTION_SEL).forEach(function (section) {\n          var slides = $(SLIDE_SEL, section);\n\n          if (slides.length) {\n            slides.forEach(function (slide) {\n              callback(slide);\n            });\n          } else {\n            callback(section);\n          }\n        });\n      }\n      /**\n      * Removes scrollOverflow for sections using the class `fp-auto-height-responsive`\n      */\n\n\n      function removeScrollBar(element) {\n        var scrollOverflowHandler = self.options.scrollOverflowHandler;\n\n        if (fp_utils.hasClass(fp_utils.closest(element, SECTION_SEL), AUTO_HEIGHT_RESPONSIVE)) {\n          scrollOverflowHandler.remove(element);\n        }\n      } //public functions\n\n\n      self.createScrollBarForAll = createScrollBarForAll;\n      self.createScrollBar = createScrollBar;\n    }\n    /**\n     * An object to handle overflow scrolling.\n     * This uses jquery.slimScroll to accomplish overflow scrolling.\n     * It is possible to pass in an alternate scrollOverflowHandler\n     * to the fullpage.js option that implements the same functions\n     * as this handler.\n     *\n     * @type {Object}\n     */\n\n\n    var $ = null;\n    var g_fullpageOptions = null;\n    var iscrollHandler = {\n      refreshId: null,\n      iScrollInstances: [],\n      lastScrollY: null,\n      hasBeenInit: false,\n      // Default options for iScroll.js used when using scrollOverflow\n      iscrollOptions: {\n        scrollbars: true,\n        mouseWheel: true,\n        hideScrollbars: false,\n        fadeScrollbars: false,\n        disableMouse: true,\n        interactiveScrollbars: true\n      },\n      init: function init(options) {\n        $ = fp_utils.$;\n        g_fullpageOptions = options;\n        var isTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints > 0 || navigator.maxTouchPoints; //fixing bug in iScroll with links: https://github.com/cubiq/iscroll/issues/783\n\n        iscrollHandler.iscrollOptions.click = isTouch; // see #2035\n\n        iscrollHandler.hasBeenInit = true; //extending iScroll options with the user custom ones\n\n        iscrollHandler.iscrollOptions = fp_utils.deepExtend(iscrollHandler.iscrollOptions, options.scrollOverflowOptions);\n        return new scrollBarHandler().init(options, iscrollHandler.iscrollOptions);\n      },\n      // Enables or disables the mouse wheel for the active section or all slides in it\n      toggleWheel: function toggleWheel(value) {\n        var scrollable = $(SCROLLABLE_SEL, $(SECTION_ACTIVE_SEL)[0]);\n        scrollable.forEach(function (item) {\n          var iScrollInstance = item.fp_iscrollInstance;\n\n          if (iScrollInstance != null) {\n            if (value) {\n              iScrollInstance.wheelOn();\n            } else {\n              iScrollInstance.wheelOff();\n            }\n          }\n        });\n      },\n      // Enables or disables the whole iScroll feature based on the given parameter.\n      setIscroll: function setIscroll(target, enable) {\n        if (!iscrollHandler.hasBeenInit || !target) {\n          return;\n        }\n\n        var scrollable = fp_utils.closest(target, SCROLLABLE_SEL) || $(SCROLLABLE_SEL, target) && $(SCROLLABLE_SEL, target)[0];\n        var action = enable ? 'enable' : 'disable';\n\n        if (scrollable) {\n          scrollable.fp_iscrollInstance[action]();\n        }\n      },\n\n      /**\n      * Turns off iScroll for the destination section.\n      * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n      * scroll the destination section/slide before the sections animations ends.\n      */\n      onLeave: function onLeave() {\n        iscrollHandler.toggleWheel(false);\n      },\n      // Turns off iScroll for the leaving section\n      beforeLeave: function beforeLeave() {\n        iscrollHandler.onLeave();\n      },\n      // Turns on iScroll on section load\n      afterLoad: function afterLoad() {\n        iscrollHandler.toggleWheel(true);\n      },\n\n      /**\n       * Called when overflow scrolling is needed for a section.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       * @param  {Number} scrollHeight Current window height in pixels\n       */\n      create: function create(element, scrollHeight, iscrollOptions) {\n        var scrollable = $(SCROLLABLE_SEL, element);\n        scrollable.forEach(function (item) {\n          fp_utils.css(item, {\n            'height': scrollHeight + 'px'\n          });\n          var iScrollInstance = item.fp_iscrollInstance;\n\n          if (iScrollInstance != null) {\n            iscrollHandler.iScrollInstances.forEach(function (instance) {\n              instance.destroy();\n            });\n          }\n\n          iScrollInstance = new IScroll(item, iscrollOptions);\n          iscrollHandler.iScrollInstances.push(iScrollInstance);\n\n          if (!fp_utils.hasClass(fp_utils.closest(element, SECTION_SEL), ACTIVE)) {\n            //off by default until the section gets active\n            iScrollInstance.wheelOff();\n          }\n\n          item.fp_iscrollInstance = iScrollInstance;\n        });\n      },\n\n      /**\n       * Return a boolean depending on whether the scrollable element is a\n       * the end or at the start of the scrolling depending on the given type.\n       *\n       * @param  {String}  type       Either 'top' or 'bottom'\n       * @param  {Object}  scrollable jQuery object for the scrollable element\n       * @return {Boolean}\n       */\n      isScrolled: function isScrolled(type, scrollable) {\n        var scroller = scrollable.fp_iscrollInstance; //no scroller?\n\n        if (!scroller) {\n          return true;\n        } // two times reporting the same Y position ? \n        // that means we are on the top or on the bottom of the scroller\n\n\n        if (type === 'top') {\n          return scroller.y >= 0 && !fp_utils.getScrollTop(scrollable);\n        } else if (type === 'bottom') {\n          // Checking the same position twice? We are at the very bottom (at least on Desktop)\n          var isDoubleChecking = iscrollHandler.lastScrollY === scroller.y;\n          iscrollHandler.lastScrollY = scroller.y; // An offset of 1px is required for IE / Edge to work\n\n          var offset = isDoubleChecking ? 1 : 0;\n          return offset + (0 - scroller.y) + fp_utils.getScrollTop(scrollable) + scrollable.offsetHeight >= scrollable.scrollHeight;\n        }\n      },\n\n      /**\n       * Returns the scrollable element for the given section.\n       * If there are landscape slides, will only return a scrollable element\n       * if it is in the active slide.\n       *\n       * @param  {Object}  activeSection jQuery object containing current section\n       * @return {Boolean}\n       */\n      scrollable: function scrollable(activeSection) {\n        // if there are landscape slides, we check if the scrolling bar is in the current one or not\n        if ($(SLIDES_WRAPPER_SEL, activeSection).length) {\n          return $(SCROLLABLE_SEL, $(SLIDE_ACTIVE_SEL, activeSection)[0])[0];\n        }\n\n        return $(SCROLLABLE_SEL, activeSection)[0];\n      },\n\n      /**\n       * Returns the scroll height of the wrapped content.\n       * If this is larger than the window height minus section padding,\n       * overflow scrolling is needed.\n       *\n       * @param  {Object} element jQuery object containing current section\n       * @return {Number}\n       */\n      scrollHeight: function scrollHeight(element) {\n        return $('.fp-scroller', $(SCROLLABLE_SEL, element)[0])[0].scrollHeight;\n      },\n\n      /**\n       * Called when overflow scrolling is no longer needed for a section.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       */\n      remove: function remove(element) {\n        if (element == null) return;\n        var scrollable = $(SCROLLABLE_SEL, element)[0];\n\n        if (scrollable != null) {\n          var iScrollInstance = scrollable.fp_iscrollInstance;\n\n          if (iScrollInstance != null) {\n            iScrollInstance.destroy();\n          }\n\n          scrollable.fp_iscrollInstance = null; //unwrapping...\n\n          fp_utils.unwrap($('.fp-scroller', element)[0]);\n          fp_utils.unwrap($(SCROLLABLE_SEL, element)[0]);\n        }\n      },\n\n      /**\n       * Called when overflow scrolling has already been setup but the\n       * window height has potentially changed.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       * @param  {Number} scrollHeight Current window height in pixels\n       */\n      update: function update(element, scrollHeight) {\n        //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n        //short period of time.\n        //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n        clearTimeout(iscrollHandler.refreshId);\n        iscrollHandler.refreshId = setTimeout(function () {\n          iscrollHandler.iScrollInstances.forEach(function (instance) {\n            instance.refresh(); //ugly hack that we are forced to use due to the timeout delay\n            //otherwise done on the fullpage.js reBuild function\n\n            fullpage_api.silentMoveTo(fp_utils.index($(SECTION_ACTIVE_SEL)[0]) + 1);\n          });\n        }, 150); //updating the wrappers height\n\n        fp_utils.css($(SCROLLABLE_SEL, element)[0], {\n          'height': scrollHeight + 'px'\n        });\n\n        if (g_fullpageOptions.verticalCentered) {\n          fp_utils.css($(SCROLLABLE_SEL, element)[0].parentNode, {\n            'height': scrollHeight + 'px'\n          });\n        }\n      },\n\n      /**\n       * Called to get any additional elements needed to wrap the section\n       * content in order to facilitate overflow scrolling.\n       *\n       * @return {String|Object} Can be a string containing HTML,\n       *                         a DOM element, or jQuery object.\n       */\n      wrapContent: function wrapContent() {\n        var scrollable = document.createElement('div');\n        scrollable.className = SCROLLABLE;\n        var scroller = document.createElement('div');\n        scroller.className = 'fp-scroller';\n        return {\n          scrollable: scrollable,\n          scroller: scroller\n        };\n      }\n    };\n    return {\n      iscrollHandler: iscrollHandler\n    };\n  }();\n})(window, document);","var baseClamp = require('./_baseClamp'),\n    copyArray = require('./_copyArray'),\n    shuffleSelf = require('./_shuffleSelf');\n\n/**\n * A specialized version of `_.sampleSize` for arrays.\n *\n * @private\n * @param {Array} array The array to sample.\n * @param {number} n The number of elements to sample.\n * @returns {Array} Returns the random elements.\n */\nfunction arraySampleSize(array, n) {\n  return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n}\n\nmodule.exports = arraySampleSize;\n"],"sourceRoot":""}